import{u as z,a as B,r as h,x as A,j as e,Q as I,t as f,C}from"./app-tu_nxz4H.js";import{B as m}from"./button-BZgJU16f.js";import{B as c}from"./badge-YbPNhPcJ.js";import{C as n,c as i,a as l,b as o}from"./card-Bw0vLuEn.js";import{I as w}from"./input--XoPGThR.js";import{L as r}from"./label-rORxKIBW.js";import"./textarea-BFctAIp6.js";import"./sheet-2K7jSFhM.js";import"./dropdown-menu-XeOzj3G4.js";import{F as L}from"./Footer-DTxvuEvE.js";import{S as R}from"./separator-C-d7tlPr.js";import{A as E}from"./arrow-left-CIvlpSYW.js";import{C as V}from"./clock-BbigxC4A.js";import{F as H}from"./file-text-CsIm62FH.js";import{U as Q}from"./upload-Rp8YJVRx.js";import{C as _}from"./credit-card-Bb6y7JVl.js";import{m as U}from"./proxy-CXAJgvNI.js";import{E as W}from"./eye-d57NAMzT.js";import"./index-CZg7sQom.js";import"./index-CPefrJt7.js";import"./index-DEJTFC4Z.js";import"./index-CUWVWZD9.js";import"./index-Du654uGJ.js";import"./index-Bzb9Ony0.js";import"./chevron-right-DdsKMi0-.js";function je({order:t,auth:$}){const{t:s}=z();B();const[S,u]=h.useState(!1),[p,k]=h.useState(null),[j,D]=h.useState(!1),{data:P,setData:g,post:F,processing:N,errors:x}=A({transaction_ref:"",payment_screenshot:null}),b=a=>new Intl.NumberFormat("ar-SD",{style:"currency",currency:"SDG",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),y=a=>{switch(a){case"pending":return"bg-yellow-100 text-yellow-800";case"payment_verified":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-purple-100 text-purple-800";case"review":return"bg-orange-100 text-orange-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=a=>{switch(a){case"pending":return s("orders.status.pending");case"payment_verified":return s("orders.status.paymentVerified");case"in_progress":return s("orders.status.inProgress");case"review":return s("orders.status.underReview");case"completed":return s("orders.status.completed");case"cancelled":return s("orders.status.cancelled");default:return a}},T=a=>{const d=a.target.files[0];d&&(k(d),g("payment_screenshot",d))},q=a=>{a.preventDefault(),F(`/orders/${t.id}/upload-payment`,{onSuccess:()=>{u(!1),D(!0)}})};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:s("ordersConfirmation.pageTitle",{order_number:t.order_number})}),e.jsx("div",{className:"min-h-screen bg-background rtl",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(n,{className:"mb-8 shadow-lg border-0 bg-gradient-to-br from-background via-card to-background",children:e.jsxs(i,{className:"flex flex-col  justify-between md:flex-row -center gap-6 p-6",children:[e.jsx("div",{className:"hidden md:block me-auto",children:e.jsx(m,{asChild:!0,variant:"outline",size:"sm",children:e.jsxs(f,{href:"/orders",children:[e.jsx(E,{className:"w-4 h-4 me-2 rtl:rotate-180"}),s("common.back")]})})}),e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[t.status==="completed"?e.jsx(C,{className:"w-10 h-10 text-success"}):t.status==="pending"?e.jsx(V,{className:"w-10 h-10 text-yellow-500"}):e.jsx(H,{className:"w-10 h-10 text-primary"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-1",children:s("ordersConfirmation.pageTitle",{order_number:t.order_number})}),e.jsx(c,{variant:"outline",className:"text-base px-3 py-1.5",children:v(t.status)})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[t.status==="pending"&&!j&&e.jsxs("div",{className:"",children:[e.jsx(n,{className:"border-primary bg-primary/5 animate-in fade-in mb-8",children:e.jsxs(i,{className:"p-8 text-center flex flex-col items-center",children:[e.jsx(Q,{className:"w-12 h-12 text-primary mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-primary mb-2",children:s("ordersConfirmation.uploadPaymentProof")}),e.jsx("p",{className:"mb-6 text-muted-foreground max-w-xl mx-auto",children:s("ordersConfirmation.uploadPaymentProofDesc")}),S?e.jsxs("form",{onSubmit:q,className:"space-y-6 max-w-md mx-auto w-full",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"transaction_ref",children:s("ordersConfirmation.transactionReference")}),e.jsx(w,{id:"transaction_ref",type:"text",placeholder:s("ordersConfirmation.enterTransactionReference"),value:P.transaction_ref,onChange:a=>g("transaction_ref",a.target.value),required:!0}),x.transaction_ref&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:x.transaction_ref})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"payment_screenshot",children:s("ordersConfirmation.paymentScreenshot")}),e.jsxs("div",{className:"mt-2 border-2 border-dashed border-primary/30 rounded-lg p-4 bg-card flex flex-col items-center",children:[e.jsx(w,{id:"payment_screenshot",type:"file",accept:"image/*",onChange:T,required:!0,className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"}),p&&e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:s("ordersConfirmation.selectedFile",{filename:p.name})})]}),x.payment_screenshot&&e.jsx("p",{className:"text-destructive text-sm mt-1",children:x.payment_screenshot})]}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx(m,{type:"submit",size:"lg",disabled:N,children:s(N?"ordersConfirmation.uploading":"ordersConfirmation.submitPaymentProof")}),e.jsx(m,{type:"button",variant:"outline",size:"lg",onClick:()=>u(!1),children:s("ordersConfirmation.cancel")})]})]}):e.jsx(m,{onClick:()=>u(!0),size:"lg",className:"mt-2",children:s("ordersConfirmation.uploadPaymentProof")})]})}),e.jsxs(n,{className:"shadow-sm",children:[e.jsx(l,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-5 h-5"}),s("bankDetails.title")]})}),e.jsx(i,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[e.jsx("h3",{className:"font-medium mb-3 flex items-center gap-2",children:e.jsx(c,{variant:"secondary",children:s("bankDetails.bankAccount")})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-sm text-muted-foreground",children:s("bankDetails.accountName")}),e.jsx("p",{className:"font-medium",children:"مصعب عوض محمد الماحي"})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm text-muted-foreground",children:"رقم الحساب"}),e.jsx("p",{className:"font-mono",children:"3929198"})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[e.jsx("h3",{className:"font-medium mb-3 flex items-center gap-2",children:e.jsx(c,{variant:"secondary",children:s("bankDetails.fawryAccount")})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-sm text-muted-foreground",children:s("bankDetails.accountName")}),e.jsx("p",{className:"font-medium",children:"مصعب عوض محمد الماحي"})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm text-muted-foreground",children:"رقم الحساب"}),e.jsx("p",{className:"font-mono",children:"51963415"})]})]})]})]})})]})]}),j&&e.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:e.jsx(n,{className:"border-success bg-success/10 animate-in fade-in",children:e.jsxs(i,{className:"p-8 text-center flex flex-col items-center",children:[e.jsx(C,{className:"w-12 h-12 text-success mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-success mb-2",children:s("ordersConfirmation.paymentProofSubmitted")}),e.jsx("p",{className:"text-success mb-4 max-w-xl mx-auto",children:s("ordersConfirmation.paymentProofSubmittedDesc")}),e.jsx(m,{asChild:!0,size:"lg",className:"mt-2",children:e.jsx(f,{href:`/chat/${t.id}`,children:s("ordersConfirmation.goToChat")})}),e.jsxs("div",{className:"mt-8 text-sm text-muted-foreground w-full",children:[e.jsx(R,{className:"mb-4"}),e.jsx("p",{className:"font-semibold mb-2 text-start",children:s("ordersConfirmation.nextSteps")}),e.jsxs("ol",{className:"list-decimal list-inside text-start max-w-md mt-2 space-y-1",children:[e.jsx("li",{children:s("ordersConfirmation.waitForVerification")}),e.jsx("li",{children:s("ordersConfirmation.discussInChat")}),e.jsx("li",{children:s("ordersConfirmation.workBegins")})]})]})]})})}),e.jsxs(n,{className:"shadow-sm",children:[e.jsx(l,{children:e.jsxs(o,{className:"flex items-center justify-between",children:[e.jsx("span",{children:s("ordersConfirmation.orderInformation")}),e.jsx(c,{variant:"outline",className:y(t.status),children:v(t.status)})]})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:s("ordersConfirmation.orderNumber")}),e.jsx("p",{className:"font-semibold",children:t.order_number})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:s("ordersConfirmation.orderDate")}),e.jsx("p",{children:new Date(t.created_at).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:s("ordersConfirmation.package")}),e.jsx("p",{className:"font-semibold",children:t.package_name})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:s("ordersConfirmation.dueDate")}),e.jsx("p",{children:new Date(t.due_date).toLocaleDateString()})]})]}),t.requirements&&e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:s("ordersConfirmation.requirements")}),Array.isArray(t.requirements)&&t.requirements.length>0?e.jsx("ul",{className:"list-disc pl-5 mt-1 text-foreground",children:t.requirements.map((a,d)=>e.jsx("li",{children:a},d))}):e.jsx("p",{className:"mt-1 text-foreground",children:t.requirements})]}),t.additional_notes&&e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:s("ordersConfirmation.additionalNotes")}),e.jsx("p",{className:"mt-1 text-foreground",children:t.additional_notes})]})]})]}),e.jsxs(n,{className:"shadow-sm",children:[e.jsx(l,{children:e.jsx(o,{children:s("ordersConfirmation.serviceDetails")})}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:s("ordersConfirmation.service")}),e.jsx("p",{className:"font-semibold",children:t.service.title})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:s("ordersConfirmation.freelancer")}),e.jsx("p",{children:t.freelancer.name})]})]})})]}),e.jsxs(n,{className:"shadow-sm",children:[e.jsx(l,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-5 h-5"}),s("ordersConfirmation.paymentInformation")]})}),e.jsxs(i,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:s("ordersConfirmation.packagePrice")}),e.jsx("p",{className:"font-semibold",children:b(t.package_price)})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:s("ordersConfirmation.total")}),e.jsx("p",{className:"font-semibold text-lg",children:b(t.total_amount)})]})]}),e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:s("ordersConfirmation.paymentMethod")}),e.jsx("p",{className:"capitalize",children:t.payment_method.replace("_"," ")})]})]})]}),t.transaction_ref&&e.jsxs(n,{className:"shadow-sm",children:[e.jsx(l,{children:e.jsx(o,{children:s("ordersConfirmation.paymentDetails")})}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(r,{className:"me-2 text-sm font-medium text-muted-foreground",children:s("ordersConfirmation.transactionReference")}),e.jsx("p",{className:"font-mono",children:t.transaction_ref})]}),t.payment_screenshot&&e.jsxs("div",{children:[e.jsx(r,{className:"text-sm font-medium text-muted-foreground",children:s("ordersConfirmation.paymentScreenshot")}),e.jsx("div",{className:"mt-2",children:e.jsxs(m,{variant:"outline",size:"sm",children:[e.jsx(W,{className:"w-4 h-4 mr-2 rtl:ml-2 rtl:mr-0"}),s("ordersConfirmation.viewScreenshot")]})})]}),e.jsxs("div",{children:[e.jsx(r,{className:"me-2 text-sm font-medium text-muted-foreground",children:s("ordersConfirmation.paymentStatus")}),e.jsx(c,{variant:"outline",className:y(t.payment_status),children:t.payment_status})]})]})})]})]}),e.jsxs("aside",{className:"lg:col-span-1 space-y-8",children:[e.jsxs(n,{className:"bg-muted/50 border-0 shadow-none",children:[e.jsx(l,{children:e.jsx(o,{children:s("ordersConfirmation.nextStepsTitle")})}),e.jsx(i,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-primary text-base font-semibold",children:"1"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s("ordersConfirmation.uploadPaymentProofStep")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s("ordersConfirmation.submitYourPaymentScreenshot")})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-muted-foreground text-base font-semibold",children:"2"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:s("ordersConfirmation.paymentVerification")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s("ordersConfirmation.verifyWithin24h")})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-muted-foreground text-base font-semibold",children:"3"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:s("ordersConfirmation.workBeginsStep")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s("ordersConfirmation.freelancerStartsWork")})]})]})]})})]}),e.jsxs(n,{className:"bg-muted/50 border-0 shadow-none",children:[e.jsx(l,{children:e.jsx(o,{children:s("ordersConfirmation.needHelp")})}),e.jsxs(i,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s("ordersConfirmation.contactSupportDesc")}),e.jsx(f,{href:"/contact",children:e.jsx(m,{variant:"outline",className:"w-full",children:s("ordersConfirmation.contactSupport")})})]})]})]})]})]})}),e.jsx(L,{})]})}export{je as default};
