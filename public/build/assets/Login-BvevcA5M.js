import{u as F,r as f,j as e,Q as C,t as E,S as L,b as c}from"./app-tu_nxz4H.js";import{I as j}from"./input--XoPGThR.js";import{C as k}from"./checkbox-DGy5fYDr.js";import{B as _}from"./button-BZgJU16f.js";import{F as I,a as d,b as x,c as h,d as u,e as b}from"./form-DlaR5nxW.js";import{u as P}from"./index.esm-D4L61ild.js";import{a as z}from"./types-BkI8Fffz.js";import{c as A}from"./auth-KFvVrmy2.js";import{L as B}from"./Logo-CFql6HBk.js";import{L as N}from"./loader-circle-CylYfSfh.js";import{E as O}from"./eye-off-E7JYF_do.js";import{E as R}from"./eye-d57NAMzT.js";import"./index-CPefrJt7.js";import"./index-CvCbp1iq.js";import"./index-Du654uGJ.js";import"./index-Bzb9Ony0.js";import"./index-CZg7sQom.js";import"./label-rORxKIBW.js";function ae({status:p,canResetPassword:D}){const{t:s,i18n:v}=F(),n=(v.language||(typeof window<"u"?document.documentElement.lang:"en"))==="ar",[o,w]=f.useState(!1),[a,l]=f.useState(!1),y=A(s),r=P({resolver:z(y),defaultValues:{email:"",password:"",remember:!1}}),S=async t=>{l(!0),L.post(route("login"),t,{onSuccess:()=>{c.success(s("auth.success.loginSuccessful")),r.reset(),l(!1)},onError:i=>{Object.entries(i).forEach(([g,m])=>{Array.isArray(m)?r.setError(g,{type:"server",message:m[0]}):r.setError(g,{type:"server",message:m})}),Object.keys(i).length===0?c.error(s("auth.errors.general")):c.error(s("auth.errors.invalidCredentials")),l(!1)},onFinish:()=>{l(!1)}})};return e.jsxs(e.Fragment,{children:[e.jsx(C,{title:s("nav.signIn")}),e.jsxs("div",{className:`min-h-screen flex bg-background rtl ${n?"rtl lang-ar":"ltr lang-en"}`,dir:n?"rtl":"ltr",children:[e.jsxs("div",{className:"hidden lg:flex flex-1 relative bg-gradient-to-br from-primary/5 to-primary/20 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(0,0,0,0.015)_1px,transparent_1px),linear-gradient(90deg,rgba(0,0,0,0.015)_1px,transparent_1px)] bg-[size:40px_40px] dark:bg-[linear-gradient(rgba(255,255,255,0.015)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.015)_1px,transparent_1px)]"}),e.jsxs("div",{className:"flex flex-col p-12",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsx(B,{className:"h-14 w-auto mb-8"}),e.jsxs("div",{className:"max-w-md",children:[e.jsx("h2",{className:"text-4xl font-bold mb-4",children:s("auth.welcomeBack")}),e.jsx("p",{className:"text-lg",children:s("auth.loginDescription")})]})]}),e.jsx("div",{className:"mt-auto opacity-80 text-sm",children:s("register.rights",{year:new Date().getFullYear()})})]})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-12",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"mb-10 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:s("nav.signIn")}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:s("auth.loginSubtitle")})]}),p&&e.jsx("div",{className:"mb-6 px-4 py-3 text-sm font-medium text-green-600 bg-green-50 rounded-md",children:p}),e.jsxs("div",{className:"relative",children:[a&&e.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-background/70 rounded-lg",children:e.jsx(N,{className:"w-12 h-12 animate-spin text-primary"})}),e.jsx(I,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(S),className:"space-y-6",children:[e.jsx(d,{control:r.control,name:"email",render:({field:t})=>e.jsxs(x,{children:[e.jsx(h,{children:s("forms.emailLabel")}),e.jsx(u,{children:e.jsx(j,{type:"email",placeholder:s("forms.emailPlaceholder"),autoComplete:"username",autoFocus:!0,disabled:a,className:"h-11 text-base",dir:n?"rtl":"ltr",...t})}),e.jsx(b,{})]})}),e.jsx(d,{control:r.control,name:"password",render:({field:t})=>e.jsxs(x,{children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(h,{children:s("forms.passwordLabel")})}),e.jsx(u,{children:e.jsxs("div",{className:"relative",children:[e.jsx(j,{type:o?"text":"password",placeholder:"••••••••",autoComplete:"current-password",disabled:a,className:"h-11 text-base pr-10 rtl:pl-10 rtl:pr-3",dir:n?"rtl":"ltr",...t}),e.jsx("button",{type:"button",tabIndex:-1,"aria-label":s(o?"register.hide":"register.show"),onClick:()=>w(i=>!i),className:`absolute top-1/2 -translate-y-1/2 ${n?"left-2":"right-2"} text-muted-foreground focus:outline-none`,children:o?e.jsx(O,{className:"w-5 h-5"}):e.jsx(R,{className:"w-5 h-5"})})]})}),e.jsx(b,{})]})}),e.jsx(d,{control:r.control,name:"remember",render:({field:t})=>e.jsxs(x,{className:"flex items-center space-x-2 space-y-0",children:[e.jsx(u,{children:e.jsx(k,{checked:t.value,onCheckedChange:t.onChange,disabled:a})}),e.jsx(h,{className:"font-normal me-2",children:s("auth.rememberMe")})]})}),e.jsx(_,{type:"submit",className:"w-full h-11 text-base font-medium",disabled:r.formState.isSubmitting||a,children:a?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4 animate-spin"}),s("auth.signingIn")]}):s("nav.signIn")})]})}),e.jsxs("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:[s("auth.noAccount")+" ",e.jsx(E,{href:route("register"),className:"font-medium text-primary hover:underline",children:s("auth.register")})]})]})]})})]})]})}export{ae as default};
