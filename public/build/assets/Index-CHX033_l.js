import{u as ye,a as fe,r as o,j as e,C as w,S as y,b as g,Q as ve}from"./app-tu_nxz4H.js";import{B as n}from"./button-BZgJU16f.js";import{C as T,c as V,a as be,b as Ne}from"./card-Bw0vLuEn.js";import{A as we}from"./AdminLayout-Dmogl9Wd.js";import{T as Ce,a as Se,b as C,c as ke,d as Pe,e as E}from"./table-ByW5kVZj.js";import{D as _e,a as Ie,b as Ae,c as De,d as se,e as $}from"./dropdown-menu-XeOzj3G4.js";import{S,a as k,b as P,c as _,d as h}from"./select-7ggDdyJM.js";import{I as Re}from"./input--XoPGThR.js";import{B as O}from"./badge-YbPNhPcJ.js";import{C as ae}from"./checkbox-DGy5fYDr.js";import{D as Fe,a as Me,b as Te,c as Ve,d as Ee}from"./dialog-BuNxXWGd.js";import{c as $e,u as Oe,f as te,g as Be,a as ze,b as Le,d as He}from"./index-mhELI5CK.js";import{A as x}from"./arrow-up-down-B6ZoVety.js";import{P as ne}from"./package-C35wEl39.js";import{U as re}from"./user-BTZAhoSQ.js";import{D as B}from"./dollar-sign-CicZaffH.js";import{C as qe}from"./credit-card-Bb6y7JVl.js";import{C as Ue}from"./chart-no-axes-column-B3jw1qnI.js";import{C as Ge}from"./calendar-a2parlcl.js";import{I as z}from"./image-C3eGslzt.js";import{E as Qe}from"./ellipsis-B0AmQ1B-.js";import{E as Xe}from"./eye-d57NAMzT.js";import{C as L}from"./circle-x-CweIOvyj.js";import{C as le}from"./clock-BbigxC4A.js";import{S as Je}from"./search-CMb3RvSH.js";import{C as Ke,a as We}from"./chevron-last-DHuAoB66.js";import{C as Ye}from"./chevron-left-BzXhZBND.js";import{C as Ze}from"./chevron-right-DdsKMi0-.js";import{E as es}from"./external-link-CVE4xTMo.js";import{D as ss}from"./download-ynPO2CN2.js";import"./AppHeader-B8kkmwh_.js";import"./LanguageDropdown-Czorzu0A.js";import"./loader-circle-CylYfSfh.js";import"./chevron-down-DgvoPxKv.js";import"./avatar-Br7MV_1H.js";import"./index-CPefrJt7.js";import"./index-CUWVWZD9.js";import"./index-CZg7sQom.js";import"./index-Du654uGJ.js";import"./log-out-C_P4AYsR.js";import"./separator-C-d7tlPr.js";import"./sheet-2K7jSFhM.js";import"./index-DEJTFC4Z.js";import"./index-Bzb9Ony0.js";import"./skeleton-CNspO5WR.js";import"./index-C4bozPq7.js";import"./shield-Lne4-C57.js";import"./briefcase-uRVTc7Lp.js";import"./file-text-CsIm62FH.js";import"./wallet-df-tNZSa.js";import"./users-CR2iJthz.js";import"./index-BdQq_4o_.js";import"./index-CvCbp1iq.js";import"./chevron-up-5hDX3Am3.js";const d=$e();function aa({orders:f={},stats:b={},filters:v={},filterOptions:H={}}){var W,Y,Z,ee;const{t:a}=ye(),{isRTL:m}=fe(),p=Array.isArray(f)?f:(f==null?void 0:f.data)||[],ie=!p||p.length===0,[r,q]=o.useState(null),[oe,N]=o.useState(!1),[i,I]=o.useState({isOpen:!1,action:"",selectedIds:[]}),[de,U]=o.useState([]),[me,G]=o.useState([]),[Q,A]=o.useState(v.search||""),[ce,X]=o.useState({}),[D,u]=o.useState({}),[xe,pe]=o.useState({pageIndex:0,pageSize:10});o.useEffect(()=>{const s=Object.keys(D).map(t=>{var j;const c=parseInt(t);return(j=p[c])==null?void 0:j.id}).filter(Boolean);I(t=>({...t,selectedIds:s}))},[D,p]);const R=s=>new Intl.NumberFormat("ar-SD",{style:"currency",currency:"SDG",minimumFractionDigits:0,maximumFractionDigits:0}).format(s/100),F=s=>new Date(s).toLocaleDateString(m?"ar-SD":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),J=s=>{const t={pending:{color:"bg-yellow-100 text-yellow-800 ho dark:bg-yellow-900 dark:text-yellow-200 hover:",icon:le,text:a("admin.payments.status.pending","Pending")},verified:{color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 ",icon:w,text:a("admin.payments.status.verified","Verified")},failed:{color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",icon:L,text:a("admin.payments.status.failed","Failed")}},c=t[s]||t.pending,j=c.icon;return e.jsxs(O,{className:`${c.color} flex items-center gap-1`,children:[e.jsx(j,{className:"w-3 h-3"}),c.text]})},K=s=>{const t={pending:{color:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",text:a("admin.payments.orderStatus.pending","Pending")},payment_verified:{color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",text:a("admin.payments.orderStatus.paymentVerified","Payment Verified")},in_progress:{color:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",text:a("admin.payments.orderStatus.inProgress","In Progress")},review:{color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",text:a("admin.payments.orderStatus.review","In Review")},completed:{color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",text:a("admin.payments.orderStatus.completed","Completed")},cancelled:{color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",text:a("admin.payments.orderStatus.cancelled","Cancelled")},delivered:{color:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200",text:a("admin.payments.orderStatus.delivered","Delivered")},revision_requested:{color:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200",text:a("admin.payments.orderStatus.revisionRequested","Revision Requested")}},c=t[s]||t.pending;return e.jsx(O,{className:c.color,children:c.text})},M=o.useMemo(()=>[d.display({id:"select",header:({table:s})=>e.jsx(ae,{checked:s.getIsAllPageRowsSelected(),onCheckedChange:t=>s.toggleAllPageRowsSelected(!!t),"aria-label":"Select all"}),cell:({row:s})=>e.jsx(ae,{checked:s.getIsSelected(),onCheckedChange:t=>s.toggleSelected(!!t),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1}),d.accessor("order_number",{header:({column:s})=>e.jsxs(n,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold",children:[a("admin.payments.table.orderNumber","Order #"),e.jsx(x,{className:"ms-2 h-4 w-4"})]}),cell:({row:s})=>e.jsx("div",{className:"font-semibold text-foreground",children:s.getValue("order_number")})}),d.accessor("service.title",{header:({column:s})=>e.jsxs(n,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold",children:[e.jsx(ne,{className:"me-2 h-4 w-4"}),a("admin.payments.table.service","Service"),e.jsx(x,{className:"ms-2 h-4 w-4"})]}),cell:({row:s})=>{var t;return e.jsx("div",{className:"text-sm text-muted-foreground",children:((t=s.original.service)==null?void 0:t.title)||a("admin.payments.fallback.service","N/A")})}}),d.accessor("client.name",{header:({column:s})=>e.jsxs(n,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold",children:[e.jsx(re,{className:"me-2 h-4 w-4"}),a("admin.payments.table.client","Client"),e.jsx(x,{className:"ms-2 h-4 w-4"})]}),cell:({row:s})=>{var t;return e.jsx("div",{className:"text-sm text-muted-foreground",children:((t=s.original.client)==null?void 0:t.name)||a("admin.payments.fallback.client","N/A")})}}),d.accessor("freelancer.name",{header:({column:s})=>e.jsxs(n,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold",children:[e.jsx(re,{className:"me-2 h-4 w-4"}),a("admin.payments.table.freelancer","Freelancer"),e.jsx(x,{className:"ms-2 h-4 w-4"})]}),cell:({row:s})=>{var t;return e.jsx("div",{className:"text-sm text-muted-foreground",children:((t=s.original.freelancer)==null?void 0:t.name)||a("admin.payments.fallback.freelancer","N/A")})}}),d.accessor("total_amount",{header:({column:s})=>e.jsxs(n,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold",children:[e.jsx(B,{className:"me-2 h-4 w-4"}),a("admin.payments.table.amount","Amount"),e.jsx(x,{className:"ms-2 h-4 w-4"})]}),cell:({row:s})=>e.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-foreground",children:[e.jsx(B,{className:"w-3 h-3 text-green-600"}),R(s.getValue("total_amount"))]})}),d.accessor("payment_status",{header:({column:s})=>e.jsxs(n,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold",children:[e.jsx(qe,{className:"me-2 h-4 w-4"}),a("admin.payments.table.paymentStatus","Payment"),e.jsx(x,{className:"ms-2 h-4 w-4"})]}),cell:({row:s})=>J(s.getValue("payment_status"))}),d.accessor("status",{header:({column:s})=>e.jsxs(n,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold",children:[e.jsx(Ue,{className:"me-2 h-4 w-4"}),a("admin.payments.table.orderStatus","Status"),e.jsx(x,{className:"ms-2 h-4 w-4"})]}),cell:({row:s})=>K(s.getValue("status"))}),d.accessor("created_at",{header:({column:s})=>e.jsxs(n,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold",children:[e.jsx(Ge,{className:"me-2 h-4 w-4"}),a("admin.payments.table.created","Created"),e.jsx(x,{className:"ms-2 h-4 w-4"})]}),cell:({row:s})=>e.jsx("div",{className:"text-sm text-muted-foreground",children:F(s.getValue("created_at"))})}),d.accessor("payment_proof_url",{header:({column:s})=>e.jsxs(n,{variant:"ghost",className:"h-8 p-0 font-semibold",children:[e.jsx(z,{className:"me-2 h-4 w-4"}),a("admin.payments.table.paymentProof","Proof")]}),cell:({row:s})=>{const t=s.original.payment_proof_url;return e.jsx("div",{className:"flex items-center gap-2",children:t?e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>{q(s.original),N(!0)},className:"h-6 w-6 p-0",title:a("admin.payments.table.viewProof","View Payment Proof"),children:e.jsx(z,{className:"h-3 w-3 text-blue-600"})}):e.jsx("span",{className:"text-xs text-muted-foreground",children:a("admin.payments.table.noProof","No Proof")})})}}),d.display({id:"actions",header:()=>e.jsx("span",{className:"sr-only",children:a("common.actions")}),cell:({row:s})=>{const t=s.original;return e.jsxs(_e,{children:[e.jsx(Ie,{asChild:!0,children:e.jsxs(n,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:a("common.openMenu")}),e.jsx(Qe,{className:"h-4 w-4"})]})}),e.jsxs(Ae,{align:m?"start":"end",className:"w-48",children:[e.jsx(De,{children:a("common.actions")}),e.jsx(se,{}),e.jsxs($,{onClick:()=>{q(t),N(!0)},className:"flex items-center",children:[e.jsx(Xe,{className:"me-2 h-4 w-4"}),a("common.view")]}),t.payment_status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(se,{}),e.jsxs($,{onClick:()=>ge(t),className:"flex items-center text-green-600 dark:text-green-400",children:[e.jsx(w,{className:"me-2 h-4 w-4"}),a("admin.payments.actions.approve")]}),e.jsxs($,{onClick:()=>he(t),className:"flex items-center text-red-600 dark:text-red-400",children:[e.jsx(L,{className:"me-2 h-4 w-4"}),a("admin.payments.actions.reject")]})]})]})]})}})],[a,m]),l=Oe({data:p||[],columns:M,getCoreRowModel:He(),getFilteredRowModel:Le(),getSortedRowModel:ze(),getPaginationRowModel:Be(),onSortingChange:U,onColumnFiltersChange:G,onGlobalFilterChange:A,onColumnVisibilityChange:X,onRowSelectionChange:u,onPaginationChange:pe,state:{sorting:de,columnFilters:me,globalFilter:Q,columnVisibility:ce,rowSelection:D,pagination:xe}}),ge=s=>{y.post(route("admin.payments.approve",s.id),{},{preserveScroll:!0,onSuccess:()=>{g.success(a("admin.payments.approveSuccess"))},onError:t=>{g.error(t.error||a("admin.payments.approveError"))}})},he=s=>{y.post(route("admin.payments.reject",s.id),{},{preserveScroll:!0,onSuccess:()=>{g.success(a("admin.payments.rejectSuccess"))},onError:t=>{g.error(t.error||a("admin.payments.rejectError"))}})},ue=()=>{if(!i.action||i.selectedIds.length===0){g.error(a("admin.payments.selectOrdersForBulkAction"));return}const s=i.action==="approve"?"admin.payments.bulk-approve":"admin.payments.bulk-reject";y.post(route(s),{order_ids:i.selectedIds},{preserveScroll:!0,onSuccess:()=>{u({}),I({isOpen:!1,action:"",selectedIds:[]}),g.success(a(`admin.payments.bulk${i.action.charAt(0).toUpperCase()+i.action.slice(1)}Success`))},onError:t=>{g.error(t.error||a("admin.payments.bulkActionError"))}})},je=[{title:a("admin.payments.stats.totalOrders","Total Orders"),value:b.total_orders||0,icon:ne,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20"},{title:a("admin.payments.stats.pendingPayments","Pending Payments"),value:b.pending_payments||0,icon:le,color:"text-yellow-600",bgColor:"bg-yellow-50 dark:bg-yellow-900/20"},{title:a("admin.payments.stats.verifiedPayments","Verified Payments"),value:b.verified_payments||0,icon:w,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-900/20"},{title:a("admin.payments.stats.totalRevenue","Total Revenue"),value:R(b.total_revenue||0),icon:B,color:"text-emerald-600",bgColor:"bg-emerald-50 dark:bg-emerald-900/20"}];return e.jsxs(we,{children:[e.jsx(ve,{title:a("admin.payments.title")}),e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:a("admin.payments.title")}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:a("admin.payments.description")})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2  xl:grid-cols-4 gap-6 mb-8",children:je.map((s,t)=>e.jsx(T,{className:"hover:shadow-lg transition-all duration-200",children:e.jsx(V,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s.title}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:s.value})]}),e.jsx("div",{className:`p-2 rounded-lg ${s.bgColor}`,children:e.jsx(s.icon,{className:`h-8 w-8 ${s.color}`})})]})})},t))}),e.jsx(T,{className:"mb-6",children:e.jsx(V,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(Re,{placeholder:a("admin.payments.searchPlaceholder"),value:Q??"",onChange:s=>A(s.target.value),className:"ps-10"})]}),e.jsxs(S,{value:v.payment_status||"all",onValueChange:s=>{y.get(route("admin.payments.index"),{...v,payment_status:s==="all"?"":s},{preserveState:!0})},children:[e.jsx(k,{className:"w-40",children:e.jsx(P,{placeholder:a("admin.payments.filters.paymentStatus")})}),e.jsxs(_,{children:[e.jsx(h,{value:"all",children:a("admin.payments.filters.allPaymentStatuses")}),Object.entries(H.payment_statuses||{}).map(([s,t])=>e.jsx(h,{value:s,children:t},s))]})]}),e.jsxs(S,{value:v.order_status||"all",onValueChange:s=>{y.get(route("admin.payments.index"),{...v,order_status:s==="all"?"":s},{preserveState:!0})},children:[e.jsx(k,{className:"w-40",children:e.jsx(P,{placeholder:a("admin.payments.filters.orderStatus")})}),e.jsxs(_,{children:[e.jsx(h,{value:"all",children:a("admin.payments.filters.allOrderStatuses")}),Object.entries(H.order_statuses||{}).map(([s,t])=>e.jsx(h,{value:s,children:t},s))]})]})]}),i.selectedIds.length>0&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 border border-primary/20 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(O,{variant:"secondary",className:"bg-primary/10 text-primary font-medium",children:[i.selectedIds.length," ",a("admin.payments.selected")]}),e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>u({}),className:"text-muted-foreground hover:text-foreground",children:a("admin.payments.clearSelection")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(S,{value:i.action,onValueChange:s=>I(t=>({...t,action:s})),children:[e.jsx(k,{className:"w-48",children:e.jsx(P,{placeholder:a("admin.payments.bulkActions.select")})}),e.jsxs(_,{children:[e.jsx(h,{value:"approve",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-green-600"}),a("admin.payments.bulkActions.approve")]})}),e.jsx(h,{value:"reject",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-red-600"}),a("admin.payments.bulkActions.reject")]})})]})]}),e.jsx(n,{onClick:ue,size:"sm",className:"bg-primary hover:bg-primary/90 text-white",disabled:!i.action,children:a("admin.payments.bulkActions.apply")})]})]}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>{A(""),G([]),U([]),X({}),u({}),y.get(route("admin.payments.index"))},children:a("admin.payments.resetFilters")})]})})}),e.jsxs(T,{children:[e.jsx(be,{children:e.jsxs(Ne,{className:"flex items-center justify-between",children:[e.jsx("span",{children:a("admin.payments.paymentsList")}),e.jsxs("div",{className:"flex items-center gap-4",children:[i.selectedIds.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{variant:"outline",size:"sm",onClick:()=>{const s=l.getRowModel().rows,t={};s.forEach((c,j)=>{t[j]=!0}),u(t)},children:a("admin.payments.selectAll")}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>u({}),children:a("admin.payments.selectNone")})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.getFilteredRowModel().rows.length," ",a("admin.payments.of")," ",p.length," ",a("admin.payments.payments")]})]})]})}),e.jsxs(V,{children:[e.jsx("div",{className:"rounded-md border p-1",children:e.jsxs(Ce,{children:[e.jsx(Se,{children:l.getHeaderGroups().map(s=>e.jsx(C,{children:s.headers.map(t=>e.jsx(ke,{children:t.isPlaceholder?null:te(t.column.columnDef.header,t.getContext())},t.id))},s.id))}),e.jsx(Pe,{children:ie?e.jsx(C,{children:e.jsx(E,{colSpan:M.length,className:"h-24 text-center",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:a("admin.payments.loading")})]})})}):(W=l.getRowModel().rows)!=null&&W.length?l.getRowModel().rows.map(s=>e.jsx(C,{"data-state":s.getIsSelected()&&"selected",children:s.getVisibleCells().map(t=>e.jsx(E,{children:te(t.column.columnDef.cell,t.getContext())},t.id))},s.id)):e.jsx(C,{children:e.jsx(E,{colSpan:M.length,className:"h-24 text-center",children:a("admin.payments.noPaymentsFound")})})})]})}),e.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[e.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[a("admin.payments.pagination.showing")," ",l.getFilteredRowModel().rows.length," ",a("admin.payments.pagination.of")," ",p.length," ",a("admin.payments.pagination.results")]}),e.jsxs("div",{className:`flex items-center ${m?"space-x-reverse space-x-6 lg:space-x-reverse lg:space-x-8":"space-x-6 lg:space-x-8"}`,children:[e.jsxs("div",{className:`flex items-center ${m?"space-x-reverse space-x-2":"space-x-2"}`,children:[e.jsx("p",{className:"text-sm font-medium",children:a("admin.payments.pagination.rowsPerPage")}),e.jsxs(S,{value:`${l.getState().pagination.pageSize}`,onValueChange:s=>{l.setPageSize(Number(s))},children:[e.jsx(k,{className:"h-8 w-[70px]",children:e.jsx(P,{placeholder:l.getState().pagination.pageSize})}),e.jsx(_,{side:"top",children:[10,20,30,40,50].map(s=>e.jsx(h,{value:`${s}`,children:s},s))})]})]}),e.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:[a("admin.payments.pagination.page")," ",l.getState().pagination.pageIndex+1," ",a("admin.payments.pagination.of")," ",l.getPageCount()]}),e.jsxs("div",{className:`flex items-center ${m?"space-x-reverse space-x-2":"space-x-2"}`,children:[e.jsxs(n,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>l.setPageIndex(0),disabled:!l.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:a("admin.payments.pagination.goToFirst")}),e.jsx(Ke,{className:`h-4 w-4  ${m?"rotate-180":""}`})]}),e.jsxs(n,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>l.previousPage(),disabled:!l.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:a("admin.payments.pagination.goToPrevious")}),e.jsx(Ye,{className:`h-4 w-4 ${m?"rotate-180":""}`})]}),e.jsxs(n,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>l.nextPage(),disabled:!l.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:a("admin.payments.pagination.goToNext")}),e.jsx(Ze,{className:`h-4 w-4 ${m?"rotate-180":""}`})]}),e.jsxs(n,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>l.setPageIndex(l.getPageCount()-1),disabled:!l.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:a("admin.payments.pagination.goToLast")}),e.jsx(We,{className:`h-4 w-4  ${m?"rotate-180":""}`})]})]})]})]})]})]}),e.jsx(Fe,{open:oe,onOpenChange:N,children:e.jsxs(Me,{className:"max-w-2xl",children:[e.jsx(Te,{children:e.jsx(Ve,{children:a("admin.payments.detailsTitle")})}),r&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:a("admin.payments.details.orderNumber")}),e.jsx("div",{className:"font-semibold",children:r.order_number})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:a("admin.payments.details.transactionRef")}),e.jsx("div",{className:"font-semibold",children:r.transaction_ref||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:a("admin.payments.details.service")}),e.jsx("div",{children:((Y=r.service)==null?void 0:Y.title)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:a("admin.payments.details.amount")}),e.jsx("div",{className:"font-semibold",children:R(r.total_amount)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:a("admin.payments.details.client")}),e.jsx("div",{children:((Z=r.client)==null?void 0:Z.name)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:a("admin.payments.details.freelancer")}),e.jsx("div",{children:((ee=r.freelancer)==null?void 0:ee.name)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:a("admin.payments.details.paymentStatus")}),e.jsx("div",{children:J(r.payment_status)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:a("admin.payments.details.orderStatus")}),e.jsx("div",{children:K(r.status)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:a("admin.payments.details.created")}),e.jsx("div",{children:F(r.created_at)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:a("admin.payments.details.paymentVerified")}),e.jsx("div",{children:r.payment_verified_at?F(r.payment_verified_at):"N/A"})]})]}),r.requirements&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:a("admin.payments.details.requirements")}),e.jsx("div",{className:"bg-muted p-3 rounded-md text-sm",children:r.requirements})]}),r.additional_notes&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:a("admin.payments.details.additionalNotes")}),e.jsx("div",{className:"bg-muted p-3 rounded-md text-sm",children:r.additional_notes})]}),r.payment_proof_url&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:a("admin.payments.details.paymentProof")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.payment_proof_url,alt:"Payment Proof",className:"max-w-full max-h-64 rounded-lg border shadow-sm object-contain bg-gray-50",onError:s=>{s.target.style.display="none",s.target.nextSibling.style.display="block"}}),e.jsx("div",{className:"hidden items-center justify-center max-h-64 rounded-lg border bg-gray-50 text-gray-500 text-sm",style:{minHeight:"200px"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(z,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{children:a("admin.payments.details.imageNotAvailable")})]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>window.open(r.payment_proof_url,"_blank"),className:"flex items-center gap-2",children:[e.jsx(es,{className:"w-4 h-4"}),a("admin.payments.details.viewFullSize")]}),e.jsxs(n,{variant:"outline",size:"sm",onClick:()=>{const s=document.createElement("a");s.href=r.payment_proof_url,s.download=`payment_proof_${r.order_number}.jpg`,document.body.appendChild(s),s.click(),document.body.removeChild(s)},className:"flex items-center gap-2",children:[e.jsx(ss,{className:"w-4 h-4"}),a("admin.payments.details.downloadProof")]})]})]})]}),!r.payment_proof_url&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:a("admin.payments.details.paymentProof")}),e.jsx("div",{className:"bg-muted p-3 rounded-md text-sm text-gray-500",children:a("admin.payments.details.noPaymentProof")})]})]}),e.jsx(Ee,{children:e.jsx(n,{variant:"outline",onClick:()=>N(!1),children:a("common.close")})})]})})]})}export{aa as default};
