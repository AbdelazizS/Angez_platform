import{r as x,x as F,j as e,Q as k}from"./app-tu_nxz4H.js";import{B as p}from"./button-BZgJU16f.js";import{I}from"./input--XoPGThR.js";import{C as D,a as L,c as R,e as B}from"./card-Bw0vLuEn.js";import{S as M,a as V,b as q,c as A,d}from"./select-7ggDdyJM.js";import{X as H,S as T,c as E,d as z,e as G,f as Q,g as _}from"./sheet-2K7jSFhM.js";import{S as o}from"./skeleton-CNspO5WR.js";import"./avatar-Br7MV_1H.js";import{P as O,a as X,b as g,c as $,e as J,d as K}from"./pagination-Bz7noSxm.js";import{S as U}from"./search-CMb3RvSH.js";import{M as W}from"./Navbar-DV3sRKJW.js";import{F as Y}from"./Footer-DTxvuEvE.js";import{m as v}from"./proxy-CXAJgvNI.js";import{F as Z}from"./funnel-x7zfoFYh.js";import{G as ee,L as re}from"./list-CRyeVyd7.js";import{A as se}from"./index-Dx2ImkKf.js";import"./index-BdQq_4o_.js";import"./index-CPefrJt7.js";import"./index-DEJTFC4Z.js";import"./index-CUWVWZD9.js";import"./index-CZg7sQom.js";import"./index-Du654uGJ.js";import"./index-CvCbp1iq.js";import"./index-C4bozPq7.js";import"./chevron-down-DgvoPxKv.js";import"./chevron-up-5hDX3Am3.js";import"./index-Bzb9Ony0.js";import"./chevron-left-BzXhZBND.js";import"./ellipsis-B0AmQ1B-.js";import"./chevron-right-DdsKMi0-.js";import"./badge-YbPNhPcJ.js";import"./DarkModeToggle-Bxo9_sai.js";import"./LanguageDropdown-Czorzu0A.js";import"./dropdown-menu-XeOzj3G4.js";import"./loader-circle-CylYfSfh.js";import"./Logo-CFql6HBk.js";import"./user-BTZAhoSQ.js";import"./log-out-C_P4AYsR.js";import"./settings-C7X0XRcF.js";function te({initialQuery:l="",onSearch:j}){const[u,t]=x.useState(l);F(),x.useEffect(()=>{t(l)},[l]);const s=n=>{n.preventDefault(),j(u)},m=()=>{t(""),j("")};return e.jsx("form",{onSubmit:s,className:"relative w-full max-w-2xl mx-auto",children:e.jsxs("div",{className:"relative flex items-center bg-card rounded-full shadow-lg border border-border hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"absolute start-4 top-1/2 transform -translate-y-1/2 pointer-events-none z-10",children:e.jsx(U,{className:"h-5 w-5 text-muted-foreground"})}),e.jsx(I,{type:"text",value:u,onChange:n=>t(n.target.value),placeholder:"Search for services, freelancers, or skills...",className:"bg-transparent text-lg placeholder-muted-foreground p-0 w-full h-full min-h-[50px] px-12 focus:outline-none focus:ring-0 focus:border-0 border-0 shadow-none"}),u&&e.jsx("button",{type:"button",onClick:m,className:"absolute end-4 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e.jsx(H,{className:"h-5 w-5"})})]})})}function _e({services:l,categories:j,subcategories:u,filters:t,pagination:s}){const[m,n]=x.useState("grid"),[w,c]=x.useState(!1),h=x.useRef(null),b=r=>{c(!0),router.get(route("search"),{...t,query:r,page:1},{preserveState:!0,onFinish:()=>{var a;c(!1),(a=h.current)==null||a.scrollIntoView({behavior:"smooth"})}})},P=(r,a)=>{c(!0),router.get(route("search"),{...t,[r]:a,page:1},{preserveState:!0,onFinish:()=>{var i;c(!1),(i=h.current)==null||i.scrollIntoView({behavior:"smooth"})}})},f=r=>{r!==s.currentPage&&(c(!0),router.get(route("search"),{...t,page:r},{preserveState:!0,onFinish:()=>{var a;c(!1),(a=h.current)==null||a.scrollIntoView({behavior:"smooth"})}}))},N=()=>{c(!0),router.get(route("search"),{query:"",category:"all",subcategory:"all",priceRange:"any",deliveryTime:"any",rating:"any",sortBy:"relevance",page:1},{preserveState:!0,onFinish:()=>c(!1)})},y=r=>new Intl.NumberFormat("ar-SD",{style:"currency",currency:"SDG",minimumFractionDigits:0}).format(r);return w?e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(12)].map((r,a)=>e.jsx(ae,{},a))})}):e.jsxs(e.Fragment,{children:[e.jsx(k,{title:"Search Services"}),e.jsx(W,{}),e.jsx("section",{className:"relative bg-background pt-24 pb-16",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsxs(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl font-bold mb-6",children:["Find the Perfect ",e.jsx("span",{className:"text-primary",children:"Freelance Service"})]}),e.jsx(te,{initialQuery:t.query,onSearch:b})]})}),e.jsx("section",{ref:h,className:"py-12 bg-background",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(T,{children:[e.jsx(E,{asChild:!0,children:e.jsxs(p,{variant:"outline",className:"gap-2",children:[e.jsx(Z,{className:"h-4 w-4"}),"Filters"]})}),e.jsxs(z,{side:"left",className:"w-[90vw] sm:w-[400px]",children:[e.jsxs(G,{children:[e.jsx(Q,{children:"Filters"}),e.jsx(_,{children:"Refine your search results"})]}),e.jsx("div",{className:"mt-6 space-y-6"})]})]}),e.jsxs("p",{className:"text-muted-foreground",children:["Showing ",s.total," results",t.query&&` for "${t.query}"`]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(M,{value:t.sortBy,onValueChange:r=>P("sortBy",r),children:[e.jsx(V,{className:"w-[180px]",children:e.jsx(q,{placeholder:"Sort by"})}),e.jsxs(A,{children:[e.jsx(d,{value:"relevance",children:"Relevance"}),e.jsx(d,{value:"rating",children:"Highest Rated"}),e.jsx(d,{value:"price-low",children:"Price: Low to High"}),e.jsx(d,{value:"price-high",children:"Price: High to Low"}),e.jsx(d,{value:"orders",children:"Most Orders"}),e.jsx(d,{value:"delivery",children:"Fastest Delivery"})]})]}),e.jsxs("div",{className:"flex border rounded-lg",children:[e.jsx(p,{variant:m==="grid"?"default":"ghost",size:"icon",onClick:()=>n("grid"),className:"rounded-r-none",children:e.jsx(ee,{className:"h-4 w-4"})}),e.jsx(p,{variant:m==="list"?"default":"ghost",size:"icon",onClick:()=>n("list"),className:"rounded-l-none",children:e.jsx(re,{className:"h-4 w-4"})})]})]})]}),e.jsx(se,{mode:"wait",children:m==="grid"?e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.length>0?l.map(r=>e.jsx(ServiceCard,{service:r,formatPrice:y},r.id)):e.jsx(S,{clearFilters:N})},"grid"):e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:l.length>0?l.map(r=>e.jsx(ServiceListCard,{service:r,formatPrice:y},r.id)):e.jsx(S,{clearFilters:N})},"list")}),s.lastPage>1&&e.jsx("div",{className:"mt-10 flex justify-center",children:e.jsx(O,{children:e.jsxs(X,{children:[e.jsx(g,{children:e.jsx($,{href:"#",onClick:r=>{r.preventDefault(),s.currentPage>1&&f(s.currentPage-1)},className:s.currentPage===1?"opacity-50 cursor-not-allowed":""})}),[...Array(s.lastPage)].map((r,a)=>{const i=a+1;return i===1||i===s.lastPage||Math.abs(i-s.currentPage)<=2?e.jsx(g,{children:e.jsx(J,{href:"#",onClick:C=>{C.preventDefault(),f(i)},isActive:i===s.currentPage,children:i})},i):null}),e.jsx(g,{children:e.jsx(K,{href:"#",onClick:r=>{r.preventDefault(),s.currentPage<s.lastPage&&f(s.currentPage+1)},className:s.currentPage===s.lastPage?"opacity-50 cursor-not-allowed":""})})]})})})]})}),e.jsx(Y,{})]})}function ae(){return e.jsxs(D,{className:"overflow-hidden",children:[e.jsx(L,{className:"p-0 pb-4",children:e.jsx(o,{className:"h-48 w-full rounded-t-lg"})}),e.jsxs(R,{className:"space-y-3",children:[e.jsx(o,{className:"h-5 w-3/4"}),e.jsx(o,{className:"h-4 w-full"}),e.jsx(o,{className:"h-4 w-5/6"}),e.jsxs("div",{className:"flex items-center space-x-4 pt-4",children:[e.jsx(o,{className:"h-10 w-10 rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{className:"h-4 w-[100px]"}),e.jsx(o,{className:"h-3 w-[80px]"})]})]})]}),e.jsxs(B,{className:"flex justify-between",children:[e.jsx(o,{className:"h-4 w-[60px]"}),e.jsx(o,{className:"h-4 w-[80px]"})]})]})}function S({clearFilters:l}){return e.jsxs("div",{className:"col-span-full text-center py-16",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No services found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your search or filters"}),e.jsx(p,{onClick:l,variant:"outline",children:"Clear Filters"})]})}export{_e as default};
