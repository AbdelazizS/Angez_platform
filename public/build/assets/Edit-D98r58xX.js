import{u as N,x as w,j as e,Q as _,t as u,b as x}from"./app-tu_nxz4H.js";import{A as b}from"./AdminLayout-Dmogl9Wd.js";import{B as d}from"./button-BZgJU16f.js";import{C as S,a as F,b as P,c as k}from"./card-Bw0vLuEn.js";import{L as i}from"./label-rORxKIBW.js";import{I as t}from"./input--XoPGThR.js";import{C as j}from"./checkbox-DGy5fYDr.js";import{S as R,a as T,b as D,c as E,d as $}from"./select-7ggDdyJM.js";import"./AppHeader-B8kkmwh_.js";import"./dropdown-menu-XeOzj3G4.js";import"./index-CPefrJt7.js";import"./index-CZg7sQom.js";import"./index-DEJTFC4Z.js";import"./index-CUWVWZD9.js";import"./index-Du654uGJ.js";import"./index-Bzb9Ony0.js";import"./chevron-right-DdsKMi0-.js";import"./LanguageDropdown-Czorzu0A.js";import"./loader-circle-CylYfSfh.js";import"./chevron-down-DgvoPxKv.js";import"./avatar-Br7MV_1H.js";import"./log-out-C_P4AYsR.js";import"./separator-C-d7tlPr.js";import"./sheet-2K7jSFhM.js";import"./skeleton-CNspO5WR.js";import"./index-C4bozPq7.js";import"./shield-Lne4-C57.js";import"./briefcase-uRVTc7Lp.js";import"./file-text-CsIm62FH.js";import"./credit-card-Bb6y7JVl.js";import"./wallet-df-tNZSa.js";import"./users-CR2iJthz.js";import"./index-CvCbp1iq.js";import"./index-BdQq_4o_.js";import"./chevron-up-5hDX3Am3.js";function je({user:n,roles:v}){var c,p;const{t:r}=N(),{data:a,setData:o,put:f,processing:m,errors:l}=w({name:n.name,email:n.email,phone:n.phone,password:"",password_confirmation:"",roles:((c=n.roles)==null?void 0:c.map(s=>s.role))||[],primary_role:((p=n.primaryRole)==null?void 0:p.role)||"",is_active:n.is_active}),y=s=>{s.preventDefault(),f(route("admin.users.update",n.id),{onSuccess:()=>{x.success(r("admin.users.updateSuccess"))},onError:()=>{x.error(r("admin.users.updateError"))}})},g=s=>{const h=a.roles.includes(s)?a.roles.filter(C=>C!==s):[...a.roles,s];o("roles",h),a.primary_role===s&&!h.includes(s)&&o("primary_role","")};return e.jsxs(b,{children:[e.jsx(_,{title:r("admin.users.editTitle")}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:r("admin.users.editTitle")}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:r("admin.users.editDescription")})]}),e.jsx(d,{asChild:!0,variant:"outline",children:e.jsx(u,{href:route("admin.users.index"),children:r("common.back")})})]}),e.jsxs(S,{children:[e.jsx(F,{children:e.jsx(P,{children:r("admin.users.userDetails")})}),e.jsx(k,{children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name",children:r("admin.users.name")}),e.jsx(t,{id:"name",value:a.name,onChange:s=>o("name",s.target.value),placeholder:r("admin.users.namePlaceholder"),error:l.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"email",children:r("admin.users.email")}),e.jsx(t,{id:"email",type:"email",value:a.email,onChange:s=>o("email",s.target.value),placeholder:r("admin.users.emailPlaceholder"),error:l.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"phone",children:r("admin.users.phone")}),e.jsx(t,{id:"phone",value:a.phone,onChange:s=>o("phone",s.target.value),placeholder:r("admin.users.phonePlaceholder"),error:l.phone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"password",children:r("admin.users.password")}),e.jsx(t,{id:"password",type:"password",value:a.password,onChange:s=>o("password",s.target.value),placeholder:r("admin.users.passwordPlaceholder"),error:l.password,helperText:r("admin.users.passwordHelper")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"password_confirmation",children:r("admin.users.confirmPassword")}),e.jsx(t,{id:"password_confirmation",type:"password",value:a.password_confirmation,onChange:s=>o("password_confirmation",s.target.value),placeholder:r("admin.users.confirmPasswordPlaceholder"),error:l.password_confirmation})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:r("admin.users.roles")}),e.jsx("div",{className:"space-y-3",children:v.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{id:`role-${s}`,checked:a.roles.includes(s),onCheckedChange:()=>g(s)}),e.jsx(i,{htmlFor:`role-${s}`,className:"font-normal",children:r(`admin.users.roles.${s}`)})]},s))}),l.roles&&e.jsx("p",{className:"text-sm font-medium text-destructive",children:l.roles})]}),a.roles.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"primary_role",children:r("admin.users.primaryRole")}),e.jsxs(R,{value:a.primary_role,onValueChange:s=>o("primary_role",s),disabled:a.roles.length===0,children:[e.jsx(T,{children:e.jsx(D,{placeholder:r("admin.users.selectPrimaryRole")})}),e.jsx(E,{children:a.roles.map(s=>e.jsx($,{value:s,children:r(`admin.users.roles.${s}`)},s))})]}),l.primary_role&&e.jsx("p",{className:"text-sm font-medium text-destructive",children:l.primary_role})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:r("admin.users.status")}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{id:"is_active",checked:a.is_active,onCheckedChange:s=>o("is_active",s)}),e.jsx(i,{htmlFor:"is_active",className:"font-normal",children:r("admin.users.active")})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(d,{type:"button",variant:"outline",asChild:!0,children:e.jsx(u,{href:route("admin.users.index"),children:r("common.cancel")})}),e.jsx(d,{type:"submit",disabled:m,children:r(m?"common.updating":"common.update")})]})]})})]})]})]})}export{je as default};
