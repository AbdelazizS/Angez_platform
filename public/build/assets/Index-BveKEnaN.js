import{u as ee,r as i,j as e,Q as se,S as ae,C as G,t as k}from"./app-tu_nxz4H.js";import{B as j}from"./button-BZgJU16f.js";import{I as re}from"./input--XoPGThR.js";import{B as P}from"./badge-YbPNhPcJ.js";import{C as D,c as F,e as z,a as te,b as H,d as K}from"./card-Bw0vLuEn.js";import"./select-7ggDdyJM.js";import"./sheet-2K7jSFhM.js";import{S as f}from"./skeleton-CNspO5WR.js";import{P as le,a as ie,b as C,c as ne,e as oe,f as ce,d as de}from"./pagination-Bz7noSxm.js";import{A as V,a as q,b as J}from"./avatar-Br7MV_1H.js";import{M as me}from"./Navbar-DV3sRKJW.js";import{F as xe}from"./Footer-DTxvuEvE.js";import{S as pe}from"./search-CMb3RvSH.js";import{G as he,L as ue}from"./list-CRyeVyd7.js";import{A as ge}from"./index-Dx2ImkKf.js";import{m as A}from"./proxy-CXAJgvNI.js";import{T as fe}from"./trending-up-BSQikmfy.js";import{A as je}from"./award-CE_s_SyF.js";import{B as Ne}from"./briefcase-uRVTc7Lp.js";import{C as O}from"./clock-BbigxC4A.js";import{A as W}from"./arrow-right-CXuxO-8B.js";import{M as ye}from"./map-pin-BTfHXcQA.js";import{E as be}from"./eye-d57NAMzT.js";import"./index-BdQq_4o_.js";import"./index-CPefrJt7.js";import"./index-DEJTFC4Z.js";import"./index-CUWVWZD9.js";import"./index-CZg7sQom.js";import"./index-Du654uGJ.js";import"./index-CvCbp1iq.js";import"./index-C4bozPq7.js";import"./chevron-down-DgvoPxKv.js";import"./chevron-up-5hDX3Am3.js";import"./index-Bzb9Ony0.js";import"./chevron-left-BzXhZBND.js";import"./ellipsis-B0AmQ1B-.js";import"./chevron-right-DdsKMi0-.js";import"./DarkModeToggle-Bxo9_sai.js";import"./LanguageDropdown-Czorzu0A.js";import"./dropdown-menu-XeOzj3G4.js";import"./loader-circle-CylYfSfh.js";import"./Logo-CFql6HBk.js";import"./user-BTZAhoSQ.js";import"./log-out-C_P4AYsR.js";import"./settings-C7X0XRcF.js";function Ps({services:s,categories:c=[],subcategories:b=[],filters:r,auth:n,searchQuery:d="",selectedCategory:m="all",selectedSubcategory:x="all",selectedPriceRange:p="any",selectedDeliveryTime:h="any",selectedRating:u="any",sortBy:g="popular",viewMode:w="grid",currentPage:_=1}){var U;console.log(s.data.map(a=>a));const{t:l,i18n:v}=ee(),[N,T]=i.useState(d),[Se,Ce]=i.useState(m),[ke,Pe]=i.useState(x),[Ae,De]=i.useState(p),[Fe,Te]=i.useState(h),[Be,Re]=i.useState(u),[Ie,Ee]=i.useState(g),[S,B]=i.useState(w),[X,R]=i.useState(!1),I=i.useRef(null),y=(a=1)=>{R(!0),ae.get(route("services.index"),{search:N,page:a},{preserveState:!0,onFinish:()=>{var t;R(!1),(t=I.current)==null||t.scrollIntoView({behavior:"smooth",block:"start"})}})},E=()=>{y(1)},Y=a=>{a.key==="Enter"&&E()},M=()=>{T(""),y(1)},L=a=>new Intl.NumberFormat("ar-SD",{style:"currency",currency:"SDG",minimumFractionDigits:0}).format(a),Q=a=>{const t=v.language;return{title:t==="ar"&&a.title_ar?a.title_ar:a.title,description:t==="ar"&&a.description_ar?a.description_ar:a.description,category:t==="ar"&&a.category_ar?a.category_ar:a.category,subcategory:t==="ar"&&a.subcategory_ar?a.subcategory_ar:a.subcategory,deliveryTime:t==="ar"&&a.delivery_time_ar?a.delivery_time_ar:a.delivery_time,tags:t==="ar"&&a.tags_ar?a.tags_ar:a.tags||[]}};return X?e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(12)].map((a,t)=>e.jsx(_e,{},t))})}):e.jsxs(e.Fragment,{children:[e.jsx(se,{title:l("services.pageTitle")}),e.jsx(me,{auth:n}),e.jsx("section",{className:"bg-muted/50 pt-24 pb-16 rtl",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[e.jsxs("h1",{className:"text-4xl font-bold text-foreground mb-6",children:[l("services.heroTitle"),e.jsxs("span",{className:"text-primary",children:[" ",l("services.heroHighlight")]})]}),e.jsx("div",{className:"relative max-w-2xl mx-auto",children:e.jsxs("div",{className:"relative flex items-center bg-card rounded-full shadow-lg border border-border",children:[e.jsx(pe,{className:"absolute start-4 h-5 w-5 text-muted-foreground "}),e.jsx(re,{type:"text",placeholder:l("services.searchPlaceholder"),value:N,onChange:a=>T(a.target.value),onKeyDown:Y,className:"bg-transparent border-0 focus-visible:ring-0 p-12 pe-24 py-6 text-lg"}),e.jsx(j,{onClick:E,className:"absolute end-2 bg-primary hover:bg-primary/90 text-white rounded-full px-6 py-2",children:l("services.search")})]})})]})})}),e.jsx("section",{ref:I,className:"py-12 bg-background rtl",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"mb-8 flex flex-col md:flex-row justify-between gap-4",children:e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex border border-border rounded-lg",children:[e.jsx(j,{variant:S==="grid"?"default":"ghost",size:"icon",onClick:()=>B("grid"),className:"rounded-e-none",children:e.jsx(he,{className:"h-4 w-4"})}),e.jsx(j,{variant:S==="list"?"default":"ghost",size:"icon",onClick:()=>B("list"),className:"rounded-s-none",children:e.jsx(ue,{className:"h-4 w-4"})})]})})}),e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-muted-foreground",children:[l("services.showing")," ",(U=s==null?void 0:s.data)==null?void 0:U.length," ",l("services.results")]})}),e.jsx(ge,{mode:"wait",children:S==="grid"?e.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.data.length>0?s.data.map(a=>e.jsx(we,{service:a,formatPrice:L,getServiceContent:Q,t:l},a.id)):e.jsx($,{clearFilters:M,t:l})},"grid"):e.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:s.data.length>0?s.data.map(a=>e.jsx(ve,{service:a,formatPrice:L,getServiceContent:Q,t:l},a.id)):e.jsx($,{clearFilters:M,t:l})},"list")}),s.last_page>1&&e.jsx("div",{className:"flex justify-center mt-10",children:e.jsx(le,{children:e.jsxs(ie,{children:[e.jsx(C,{children:e.jsx(ne,{href:"#",onClick:a=>{a.preventDefault(),s.current_page>1&&y(s.current_page-1)},className:s.current_page===1?"opacity-50 pointer-events-none":""})}),Array.from({length:s.last_page},(a,t)=>{const o=t+1;return o===1||o===s.last_page||o>=s.current_page-2&&o<=s.current_page+2?e.jsx(C,{children:e.jsx(oe,{href:"#",onClick:Z=>{Z.preventDefault(),y(o)},isActive:o===s.current_page,children:o})},o):t===1&&s.current_page>4||t===s.last_page-2&&s.current_page<s.last_page-3?e.jsx(ce,{},`ellipsis-${t}`):null}),e.jsx(C,{children:e.jsx(de,{href:"#",onClick:a=>{a.preventDefault(),s.current_page<s.last_page&&y(s.current_page+1)},className:s.current_page===s.last_page?"opacity-50 pointer-events-none":""})})]})})})]})}),e.jsx(xe,{})]})}function we({service:s,formatPrice:c,getServiceContent:b,t:r}){var d,m,x,p,h,u,g;const n=b(s);return e.jsxs(D,{className:"group hover:shadow-lg transition-all duration-300 hover:-translate-y-1 border-border h-full flex flex-col",children:[e.jsx(te,{className:"p-0 relative",children:e.jsxs("div",{className:"p-2 top-3 left-3 flex gap-2",children:[s.is_popular&&e.jsxs(P,{variant:"secondary",className:"bg-green-500/10 text-green-600 dark:text-green-400 hover:bg-green-500/20",children:[e.jsx(fe,{className:"w-3 h-3 me-1"}),r("services.popular")]}),s.is_featured&&e.jsxs(P,{variant:"secondary",className:"bg-purple-500/10 text-purple-600 dark:text-purple-400 hover:bg-purple-500/20",children:[e.jsx(je,{className:"w-3 h-3 me-1"}),r("services.featured")]})]})}),e.jsxs(F,{className:"p-4 flex-1 flex flex-col",children:[e.jsx(H,{className:"text-lg font-semibold line-clamp-2 mb-2 group-hover:text-primary transition-colors",children:n.title}),e.jsx(K,{className:"text-sm line-clamp-2 mb-4",children:n.description}),e.jsxs("div",{className:"mt-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxs(V,{className:"h-9 w-9",children:[e.jsx(q,{src:(d=s.user)==null?void 0:d.avatar}),e.jsx(J,{className:"bg-gradient-to-br from-background via-primary/5 to-primary/10",children:(m=s.user)!=null&&m.name?s.user.name[0]:"U"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:((x=s.user)==null?void 0:x.name)||r("services.unknownFreelancer")}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(Ne,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate",children:((h=(p=s.user)==null?void 0:p.freelancer_profile)==null?void 0:h.title)||r("services.titleUnknown")})]})]})]}),e.jsx("div",{className:"flex items-center justify-between text-sm mb-3",children:e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(G,{className:"w-4 h-4 text-green-500"}),e.jsxs("span",{children:[((g=(u=s.user)==null?void 0:u.freelancer_profile)==null?void 0:g.completed_orders)||0," ",r("services.orders")]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-lg font-semibold text-primary",children:c(s.price)}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsx("span",{children:n.deliveryTime})]})]})]})]}),e.jsx(z,{className:"p-4 border-t border-border",children:e.jsx(j,{className:"w-full",asChild:!0,children:e.jsxs(k,{href:`/services/${s.id}`,children:[r("services.viewDetails"),e.jsx(W,{className:"w-4 h-4 ms-2 rtl:rotate-180"})]})})})]})}function ve({service:s,formatPrice:c,getServiceContent:b,t:r}){var d,m,x,p,h,u,g,w,_,l,v,N;const n=b(s);return e.jsx(D,{className:"group hover:shadow-lg transition-all duration-300 border-border",children:e.jsx(F,{className:"p-6",children:e.jsx("div",{className:"flex flex-col sm:flex-row gap-6",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-4 mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(H,{className:"text-xl font-semibold line-clamp-2 group-hover:text-primary transition-colors mb-2",children:n.title}),e.jsx(K,{className:"line-clamp-2 mb-4",children:n.description}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxs(V,{className:"h-9 w-9",children:[e.jsx(q,{src:(d=s.user)==null?void 0:d.avatar}),e.jsx(J,{children:(m=s.user)!=null&&m.name?s.user.name[0]:"U"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium truncate",children:((x=s.user)==null?void 0:x.name)||r("services.unknownFreelancer")}),((h=(p=s.user)==null?void 0:p.freelancer_profile)==null?void 0:h.is_verified)&&e.jsx(P,{variant:"secondary",className:"px-1.5 py-0.5 text-xs",children:r("services.verified")})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(ye,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate",children:((g=(u=s.user)==null?void 0:u.freelancer_profile)==null?void 0:g.location)||r("services.locationUnknown")})]})]})]})]}),e.jsxs("div",{className:"sm:text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:c(s.price)}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[r("services.deliveryIn")," ",n.deliveryTime]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"w-4 h-4 text-green-500"}),e.jsxs("span",{children:[((_=(w=s.user)==null?void 0:w.freelancer_profile)==null?void 0:_.completed_orders)||0," ",r("services.ordersCompleted")]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsxs("span",{children:[r("freelancerProfile.hero.responseTime")," ",((v=(l=s.user)==null?void 0:l.freelancer_profile)==null?void 0:v.response_time)||r("services.unknown")]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(j,{asChild:!0,children:e.jsxs(k,{href:`/services/${s.id}`,children:[r("services.viewDetails"),e.jsx(W,{className:"w-4 h-4 ms-2 rtl:rotate-180"})]})}),e.jsx(j,{variant:"outline",asChild:!0,children:e.jsxs(k,{href:`/freelancers/${((N=s.user)==null?void 0:N.id)||"unknown"}`,children:[e.jsx(be,{className:"w-4 h-4 me-2"}),r("services.viewProfile")]})})]})]})})})})}function _e(){return e.jsxs(D,{className:"border-border h-full flex flex-col",children:[e.jsxs(F,{className:"p-4 flex-1 flex flex-col",children:[e.jsx(f,{className:"h-6 w-3/4 mb-2"}),e.jsx(f,{className:"h-4 w-full mb-4"}),e.jsx(f,{className:"h-4 w-1/2 mb-4"}),e.jsxs("div",{className:"mt-auto space-y-3",children:[e.jsx(f,{className:"h-4 w-full"}),e.jsx(f,{className:"h-4 w-3/4"})]})]}),e.jsx(z,{className:"p-4 border-t border-border",children:e.jsx(f,{className:"h-10 w-full rounded-md"})})]})}function $({clearFilters:s,t:c}){return e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 col-span-full",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ğŸ”"}),e.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:c("services.noServicesFound")}),e.jsx("p",{className:"text-muted-foreground mb-6",children:c("services.tryAdjusting")})]})}export{Ps as default};
