import{u as oa,i as ia,r as i,j as e,C as X,S as j,b as c,Q as ca}from"./app-tu_nxz4H.js";import{B as n}from"./button-BZgJU16f.js";import{C as J,c as K,a as pe,b as xe}from"./card-Bw0vLuEn.js";import{A as da}from"./AdminLayout-Dmogl9Wd.js";import{T as he,a as ge,b as w,c as je,d as we,e as R}from"./table-ByW5kVZj.js";import{D as be,a as fe,b as Ne,c as ve,d as Y,e as b}from"./dropdown-menu-XeOzj3G4.js";import{D as I,a as T,b as A,c as F,f as E,d as O}from"./dialog-BuNxXWGd.js";import{I as f}from"./input--XoPGThR.js";import{B as L}from"./badge-YbPNhPcJ.js";import{C as ye}from"./checkbox-DGy5fYDr.js";import{c as ma,u as Se,f as B,g as ke,a as Ce,b as Pe,d as De}from"./index-mhELI5CK.js";import{S as _e,a as Me,b as Re,c as Ie,d as Te}from"./select-7ggDdyJM.js";import{U as Z}from"./user-BTZAhoSQ.js";import{A as x}from"./arrow-up-down-B6ZoVety.js";import{D as ee}from"./dollar-sign-CicZaffH.js";import{E as Ae}from"./ellipsis-B0AmQ1B-.js";import{L as ae,M as ua}from"./minus-C7gZPW39.js";import{L as W}from"./lock-j5fhUESi.js";import{C as pa}from"./calendar-a2parlcl.js";import{E as xa}from"./eye-d57NAMzT.js";import{C as se}from"./circle-x-CweIOvyj.js";import{I as ha}from"./image-C3eGslzt.js";import{B as ga}from"./banknote-BHqKonmc.js";import{C as Fe,a as Ee}from"./chevron-last-DHuAoB66.js";import{C as Oe}from"./chevron-left-BzXhZBND.js";import{C as Le}from"./chevron-right-DdsKMi0-.js";import{P as ja}from"./plus-DnTpGEWW.js";import{C as wa}from"./clock-BbigxC4A.js";import"./AppHeader-B8kkmwh_.js";import"./LanguageDropdown-Czorzu0A.js";import"./loader-circle-CylYfSfh.js";import"./chevron-down-DgvoPxKv.js";import"./avatar-Br7MV_1H.js";import"./index-CPefrJt7.js";import"./index-CUWVWZD9.js";import"./index-CZg7sQom.js";import"./index-Du654uGJ.js";import"./log-out-C_P4AYsR.js";import"./separator-C-d7tlPr.js";import"./sheet-2K7jSFhM.js";import"./index-DEJTFC4Z.js";import"./index-Bzb9Ony0.js";import"./skeleton-CNspO5WR.js";import"./index-C4bozPq7.js";import"./shield-Lne4-C57.js";import"./briefcase-uRVTc7Lp.js";import"./file-text-CsIm62FH.js";import"./credit-card-Bb6y7JVl.js";import"./wallet-df-tNZSa.js";import"./users-CR2iJthz.js";import"./index-CvCbp1iq.js";import"./index-BdQq_4o_.js";import"./chevron-up-5hDX3Am3.js";const m=ma();function fs({wallets:N={},pendingPayouts:v={}}){var re,oe,ie,ce,de,me,ue;const{t:a}=oa(),q=(ia.language||(typeof window<"u"?document.documentElement.lang:"en"))==="ar",h=Array.isArray(N)?N:(N==null?void 0:N.data)||[],k=Array.isArray(v)?v:(v==null?void 0:v.data)||[],[C,fa]=i.useState(null),[l,H]=i.useState(null),[Be,$]=i.useState(!1),[We,P]=i.useState(!1),[qe,D]=i.useState(!1),[He,z]=i.useState(!1),[d,y]=i.useState({user_id:"",type:"credit",amount:"",reason:""}),[p,S]=i.useState({reference_number:"",payment_screenshot:null,notes:""}),[U,V]=i.useState({rejection_reason:""}),[Q,_]=i.useState({}),[$e,ze]=i.useState({pageIndex:0,pageSize:10}),[Ue,Ve]=i.useState([]),[Qe,Ge]=i.useState({pageIndex:0,pageSize:10}),[Xe,Je]=i.useState([]),M=i.useMemo(()=>Object.keys(Q).map(s=>{var u;const t=parseInt(s);return(u=h[t])==null?void 0:u.id}).filter(Boolean),[Q,h]),g=s=>new Intl.NumberFormat("ar-SD",{style:"currency",currency:"SDG",minimumFractionDigits:0,maximumFractionDigits:0}).format(s),G=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Ke=s=>s?e.jsxs(L,{variant:"destructive",className:"flex items-center gap-1",children:[e.jsx(W,{className:"ms-2 h-3 w-3"}),a("admin.wallet.status.locked")]}):e.jsxs(L,{variant:"secondary",className:"flex items-center gap-1",children:[e.jsx(ae,{className:"ms-2 h-3 w-3"}),a("admin.wallet.status.active")]}),te=s=>{const t={pending:{color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 hover:bg-yellow-200 dark:hover:bg-yellow-800",icon:wa,text:a("admin.payout.status.pending")},paid:{color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 hover:bg-green-200 dark:hover:bg-green-800",icon:X,text:a("admin.payout.status.paid")},payout_paid:{color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 hover:bg-green-200 dark:hover:bg-green-800",icon:X,text:a("admin.payout.status.paid")},rejected:{color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 hover:bg-red-200 dark:hover:bg-red-800",icon:se,text:a("admin.payout.status.rejected")},payout_rejected:{color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 hover:bg-red-200 dark:hover:bg-red-800",icon:se,text:a("admin.payout.status.rejected")}},u=t[s]||t.pending,ra=u.icon;return e.jsxs(L,{className:`${u.color} flex items-center gap-1`,children:[e.jsx(ra,{className:"ms-2 h-3 w-3"}),u.text]})},ne=i.useMemo(()=>[m.display({id:"select",header:({table:s})=>e.jsx(ye,{checked:s.getIsAllPageRowsSelected(),onCheckedChange:t=>s.toggleAllPageRowsSelected(!!t),"aria-label":a("common.selectAll")}),cell:({row:s})=>e.jsx(ye,{checked:s.getIsSelected(),onCheckedChange:t=>s.toggleSelected(!!t),"aria-label":a("common.selectRow")}),enableSorting:!1,enableHiding:!1}),m.accessor("user.name",{header:({column:s})=>e.jsxs(n,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold",children:[e.jsx(Z,{className:"ms-2 h-4 w-4"}),a("admin.wallet.table.user"),e.jsx(x,{className:"ml-2 h-4 w-4"})]}),cell:({row:s})=>{var t;return((t=s.original.user)==null?void 0:t.name)||a("common.na")}}),m.accessor("user.email",{header:({column:s})=>e.jsxs(n,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold",children:[a("admin.wallet.table.email"),e.jsx(x,{className:"ml-2 h-4 w-4"})]}),cell:({row:s})=>{var t;return((t=s.original.user)==null?void 0:t.email)||a("common.na")}}),m.accessor("balance",{header:({column:s})=>e.jsxs(n,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold",children:[e.jsx(ee,{className:"ms-2 h-4 w-4"}),a("admin.wallet.table.balance"),e.jsx(x,{className:"ml-2 h-4 w-4"})]}),cell:({row:s})=>e.jsx("span",{className:"font-semibold",children:g(s.original.balance)})}),m.accessor("is_locked",{header:({column:s})=>e.jsxs(n,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold",children:[a("admin.wallet.table.status"),e.jsx(x,{className:"ml-2 h-4 w-4"})]}),cell:({row:s})=>Ke(s.original.is_locked)}),m.display({id:"actions",header:()=>e.jsx("span",{className:"sr-only",children:a("common.actions")}),cell:({row:s})=>{const t=s.original;return e.jsxs(be,{children:[e.jsx(fe,{asChild:!0,children:e.jsxs(n,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:a("common.openMenu")}),e.jsx(Ae,{className:"ms-2 h-4 w-4"})]})}),e.jsxs(Ne,{align:q?"start":"end",className:"w-48",children:[e.jsx(ve,{children:a("common.actions")}),e.jsx(Y,{}),t.is_locked?e.jsxs(b,{onClick:()=>Ze(t),className:"text-green-600 dark:text-green-400",children:[e.jsx(ae,{className:"ms-2 h-4 w-4"}),a("admin.wallet.actions.unlock")]}):e.jsxs(b,{onClick:()=>Ye(t),className:"text-red-600 dark:text-red-400",children:[e.jsx(W,{className:"ms-2 h-4 w-4"}),a("admin.wallet.actions.lock")]})]})]})}})],[]),le=i.useMemo(()=>[m.accessor("user.name",{header:({column:s})=>e.jsxs(n,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold",children:[e.jsx(Z,{className:"ms-2 h-4 w-4"}),a("admin.payout.table.user"),e.jsx(x,{className:"ml-2 h-4 w-4"})]}),cell:({row:s})=>{var t;return((t=s.original.user)==null?void 0:t.name)||a("common.na")}}),m.accessor("amount",{header:({column:s})=>e.jsxs(n,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold",children:[e.jsx(ee,{className:"ms-2 h-4 w-4"}),a("admin.payout.table.amount"),e.jsx(x,{className:"ml-2 h-4 w-4"})]}),cell:({row:s})=>e.jsx("span",{className:"font-semibold",children:g(s.original.amount)})}),m.accessor("status",{header:({column:s})=>e.jsxs(n,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold",children:[a("admin.payout.table.status"),e.jsx(x,{className:"ml-2 h-4 w-4"})]}),cell:({row:s})=>te(s.original.status)}),m.accessor("created_at",{header:({column:s})=>e.jsxs(n,{variant:"ghost",onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"h-8 p-0 font-semibold",children:[e.jsx(pa,{className:"ms-2 h-4 w-4"}),a("admin.payout.table.requestedAt"),e.jsx(x,{className:"ml-2 h-4 w-4"})]}),cell:({row:s})=>G(s.original.created_at)}),m.display({id:"actions",header:()=>e.jsx("span",{className:"sr-only",children:a("common.actions")}),cell:({row:s})=>{const t=s.original;return e.jsxs(be,{children:[e.jsx(fe,{asChild:!0,children:e.jsxs(n,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:a("common.openMenu")}),e.jsx(Ae,{className:"ms-2 h-4 w-4"})]})}),e.jsxs(Ne,{align:q?"start":"end",className:"w-48",children:[e.jsx(ve,{children:a("common.actions")}),e.jsx(Y,{}),e.jsxs(b,{onClick:()=>{H(t),$(!0)},children:[e.jsx(xa,{className:"ms-2 h-4 w-4"}),a("admin.payout.actions.viewDetails")]}),t.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(Y,{}),e.jsxs(b,{onClick:()=>{H(t),S({reference_number:"",payment_screenshot:null,notes:""}),P(!0)},className:"text-green-600 dark:text-green-400",children:[e.jsx(X,{className:"ms-2 h-4 w-4"}),a("admin.payout.actions.approve")]}),e.jsxs(b,{onClick:()=>{H(t),V({rejection_reason:""}),D(!0)},className:"text-red-600 dark:text-red-400",children:[e.jsx(se,{className:"ms-2 h-4 w-4"}),a("admin.payout.actions.reject")]})]}),t.payment_proof&&e.jsxs(b,{onClick:()=>window.open(`/storage/${t.payment_proof.screenshot_path}`,"_blank"),children:[e.jsx(ha,{className:"ms-2 h-4 w-4"}),a("admin.payout.actions.viewProof")]})]})]})}})],[]),r=Se({data:h,columns:ne,getCoreRowModel:De(),getFilteredRowModel:Pe(),getSortedRowModel:Ce(),getPaginationRowModel:ke(),onSortingChange:Ve,onRowSelectionChange:_,onPaginationChange:ze,state:{sorting:Ue,rowSelection:Q,pagination:$e}}),o=Se({data:k,columns:le,getCoreRowModel:De(),getFilteredRowModel:Pe(),getSortedRowModel:Ce(),getPaginationRowModel:ke(),onSortingChange:Je,onPaginationChange:Ge,state:{sorting:Xe,pagination:Qe}}),Ye=s=>{j.post(route("admin.wallets.lock",s.id),{},{preserveScroll:!0,onSuccess:()=>c.success(a("admin.wallet.actions.lockSuccess")),onError:()=>c.error(a("admin.wallet.actions.lockError"))})},Ze=s=>{j.post(route("admin.wallets.unlock",s.id),{},{preserveScroll:!0,onSuccess:()=>c.success(a("admin.wallet.actions.unlockSuccess")),onError:()=>c.error(a("admin.wallet.actions.unlockError"))})},ea=()=>{j.post(route("admin.wallets.bulk-lock"),{wallet_ids:M},{preserveScroll:!0,onSuccess:()=>{_({}),c.success(a("admin.wallet.actions.bulkLockSuccess"))},onError:()=>c.error(a("admin.wallet.actions.bulkLockError"))})},aa=()=>{j.post(route("admin.wallets.bulk-unlock"),{wallet_ids:M},{preserveScroll:!0,onSuccess:()=>{_({}),c.success(a("admin.wallet.actions.bulkUnlockSuccess"))},onError:()=>c.error(a("admin.wallet.actions.bulkUnlockError"))})},sa=s=>{s.preventDefault(),j.post(route("admin.wallets.manual"),{user_id:C.user.id,type:d.type,amount:d.amount,reason:d.reason},{preserveScroll:!0,onSuccess:()=>{z(!1),c.success(a("admin.wallet.actions.manualOperationSuccess")),y({user_id:"",type:"credit",amount:"",reason:""})},onError:()=>c.error(a("admin.wallet.actions.manualOperationError"))})},ta=s=>{s.preventDefault();const t=new FormData;t.append("status","approved"),t.append("reference_number",p.reference_number),t.append("payment_screenshot",p.payment_screenshot),t.append("notes",p.notes),j.post(route("admin.payouts.process",l.id),t,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{P(!1),c.success(a("admin.payout.actions.approveSuccess")),S({reference_number:"",payment_screenshot:null,notes:""})},onError:u=>{c.error(u.error||a("admin.payout.actions.approveError"))}})},na=s=>{s.preventDefault(),j.post(route("admin.payouts.process",l.id),{status:"rejected",rejection_reason:U.rejection_reason},{preserveScroll:!0,onSuccess:()=>{D(!1),c.success(a("admin.payout.actions.rejectSuccess")),V({rejection_reason:""})},onError:t=>{c.error(t.error||a("admin.payout.actions.rejectError"))}})},la=[{title:a("admin.wallet.stats.totalWallets"),value:h.length,icon:Z,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20"},{title:a("admin.wallet.stats.totalBalance"),value:g(h.reduce((s,t)=>{const u=Number(t.balance)||0;return s+u},0)),icon:ee,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-900/20"},{title:a("admin.wallet.stats.lockedWallets"),value:h.filter(s=>s.is_locked).length,icon:W,color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-900/20"},{title:a("admin.wallet.stats.pendingPayouts"),value:k.length,icon:ga,color:"text-yellow-600",bgColor:"bg-yellow-50 dark:bg-yellow-900/20"}];return e.jsxs(da,{children:[e.jsx(ca,{title:a("admin.wallet.header")}),e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:a("admin.wallet.header")}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:a("admin.wallet.description")})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:la.map((s,t)=>e.jsx(J,{className:"hover:shadow-lg transition-all duration-200",children:e.jsx(K,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s.title}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:s.value})]}),e.jsx("div",{className:`p-2 rounded-lg ${s.bgColor}`,children:e.jsx(s.icon,{className:`ms-2 h-8 w-8 ${s.color}`})})]})})},t))}),M.length>0&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 border border-primary/20 rounded-lg shadow-sm mb-6",children:[e.jsxs(L,{variant:"secondary",className:"bg-primary/10 text-primary font-medium",children:[M.length," ",a("admin.wallet.bulkActions.selected")]}),e.jsx(n,{variant:"outline",size:"sm",onClick:()=>_({}),children:a("admin.wallet.bulkActions.clearSelection")}),e.jsxs(n,{variant:"outline",size:"sm",onClick:ea,children:[e.jsx(W,{className:"ms-2 h-4 w-4"}),a("admin.wallet.bulkActions.lockSelected")]}),e.jsxs(n,{variant:"outline",size:"sm",onClick:aa,children:[e.jsx(ae,{className:"ms-2 h-4 w-4"}),a("admin.wallet.bulkActions.unlockSelected")]})]}),e.jsxs(J,{className:"mb-8",children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center justify-between",children:[e.jsx("span",{children:a("admin.wallet.table.userWallets")}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.getFilteredRowModel().rows.length," ",a("admin.wallet.table.of")," ",h.length," ",a("admin.wallet.table.wallets")]})]})}),e.jsxs(K,{children:[e.jsx("div",{className:"rounded-md border p-1",children:e.jsxs(he,{children:[e.jsx(ge,{children:r.getHeaderGroups().map(s=>e.jsx(w,{children:s.headers.map(t=>e.jsx(je,{children:t.isPlaceholder?null:B(t.column.columnDef.header,t.getContext())},t.id))},s.id))}),e.jsx(we,{children:(re=r.getRowModel().rows)!=null&&re.length?r.getRowModel().rows.map(s=>e.jsx(w,{"data-state":s.getIsSelected()&&"selected",children:s.getVisibleCells().map(t=>e.jsx(R,{children:B(t.column.columnDef.cell,t.getContext())},t.id))},s.id)):e.jsx(w,{children:e.jsx(R,{colSpan:ne.length,className:"h-24 text-center",children:a("admin.wallet.table.noWalletsFound")})})})]})}),e.jsx("div",{className:"flex items-center justify-end space-x-2 py-4",children:e.jsxs("div",{className:"flex items-center space-x-6 lg:space-x-8",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-sm font-medium",children:a("admin.wallet.table.rowsPerPage",{n:r.getState().pagination.pageSize})}),e.jsxs(_e,{value:`${r.getState().pagination.pageSize}`,onValueChange:s=>{r.setPageSize(Number(s))},children:[e.jsx(Me,{className:"h-8 w-[70px]",children:e.jsx(Re,{placeholder:r.getState().pagination.pageSize})}),e.jsx(Ie,{side:"top",children:[10,20,30,40,50].map(s=>e.jsx(Te,{value:`${s}`,children:s},s))})]})]}),e.jsx("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:a("admin.wallet.table.page",{n:r.getState().pagination.pageIndex+1,total:r.getPageCount()})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(n,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>r.setPageIndex(0),disabled:!r.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:a("admin.wallet.table.goToFirstPage")}),e.jsx(Fe,{className:"ms-2 h-4 w-4"})]}),e.jsxs(n,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>r.previousPage(),disabled:!r.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:a("admin.wallet.table.goToPreviousPage")}),e.jsx(Oe,{className:"ms-2 h-4 w-4"})]}),e.jsxs(n,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>r.nextPage(),disabled:!r.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:a("admin.wallet.table.goToNextPage")}),e.jsx(Le,{className:"ms-2 h-4 w-4"})]}),e.jsxs(n,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>r.setPageIndex(r.getPageCount()-1),disabled:!r.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:a("admin.wallet.table.goToLastPage")}),e.jsx(Ee,{className:"ms-2 h-4 w-4"})]})]})]})})]})]}),e.jsxs(J,{children:[e.jsx(pe,{children:e.jsxs(xe,{className:"flex items-center justify-between",children:[e.jsx("span",{children:a("admin.payout.table.pendingPayoutRequests")}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.getFilteredRowModel().rows.length," ",a("admin.payout.table.of")," ",k.length," ",a("admin.payout.table.requests")]})]})}),e.jsxs(K,{children:[e.jsx("div",{className:"rounded-md border p-1",children:e.jsxs(he,{children:[e.jsx(ge,{children:o.getHeaderGroups().map(s=>e.jsx(w,{children:s.headers.map(t=>e.jsx(je,{children:t.isPlaceholder?null:B(t.column.columnDef.header,t.getContext())},t.id))},s.id))}),e.jsx(we,{children:(oe=o.getRowModel().rows)!=null&&oe.length?o.getRowModel().rows.map(s=>e.jsx(w,{"data-state":s.getIsSelected()&&"selected",children:s.getVisibleCells().map(t=>e.jsx(R,{children:B(t.column.columnDef.cell,t.getContext())},t.id))},s.id)):e.jsx(w,{children:e.jsx(R,{colSpan:le.length,className:"h-24 text-center",children:a("admin.payout.table.noPendingPayoutRequestsFound")})})})]})}),e.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[e.jsx("div",{className:"flex-1 text-sm text-muted-foreground",children:a("admin.payout.table.showing",{n:o.getFilteredRowModel().rows.length,total:k.length})}),e.jsxs("div",{className:"flex items-center space-x-6 lg:space-x-8",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-sm font-medium",children:a("admin.payout.table.rowsPerPage")}),e.jsxs(_e,{value:`${o.getState().pagination.pageSize}`,onValueChange:s=>{o.setPageSize(Number(s))},children:[e.jsx(Me,{className:"h-8 w-[70px]",children:e.jsx(Re,{placeholder:o.getState().pagination.pageSize})}),e.jsx(Ie,{side:"top",children:[10,20,30,40,50].map(s=>e.jsx(Te,{value:`${s}`,children:s},s))})]})]}),e.jsx("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:a("admin.payout.table.page",{n:o.getState().pagination.pageIndex+1,total:o.getPageCount()})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(n,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>o.setPageIndex(0),disabled:!o.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:a("admin.payout.table.goToFirstPage")}),e.jsx(Fe,{className:"ms-2 h-4 w-4"})]}),e.jsxs(n,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>o.previousPage(),disabled:!o.getCanPreviousPage(),children:[e.jsx("span",{className:"sr-only",children:a("admin.payout.table.goToPreviousPage")}),e.jsx(Oe,{className:"ms-2 h-4 w-4"})]}),e.jsxs(n,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>o.nextPage(),disabled:!o.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:a("admin.payout.table.goToNextPage")}),e.jsx(Le,{className:"ms-2 h-4 w-4"})]}),e.jsxs(n,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>o.setPageIndex(o.getPageCount()-1),disabled:!o.getCanNextPage(),children:[e.jsx("span",{className:"sr-only",children:a("admin.payout.table.goToLastPage")}),e.jsx(Ee,{className:"ms-2 h-4 w-4"})]})]})]})]})]})]}),e.jsx(I,{open:Be,dir:q?"rtl":"ltr",onOpenChange:$,children:e.jsxs(T,{className:"max-w-2xl ",children:[e.jsxs(A,{className:"rtl",children:[e.jsx(F,{children:a("admin.payout.viewDetails.title")}),e.jsx(E,{children:a("admin.payout.viewDetails.description")})]}),l&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a("admin.payout.viewDetails.user")}),e.jsx("p",{className:"font-medium",children:(ie=l.user)==null?void 0:ie.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a("admin.payout.viewDetails.email")}),e.jsx("p",{className:"font-medium",children:(ce=l.user)==null?void 0:ce.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a("admin.payout.viewDetails.amount")}),e.jsx("p",{className:"font-medium text-green-600",children:g(l.amount)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a("admin.payout.viewDetails.status")}),e.jsx("div",{children:te(l.status)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a("admin.payout.viewDetails.requestedAt")}),e.jsx("p",{className:"font-medium",children:G(l.created_at)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a("admin.payout.viewDetails.paymentMethod")}),e.jsx("p",{className:"font-medium",children:l.payment_method||a("admin.payout.viewDetails.bankTransfer")})]})]}),l.bank_account_details&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:a("admin.payout.viewDetails.bankAccountDetails")}),e.jsx("div",{className:"bg-muted p-4 rounded-md",children:e.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:l.bank_account_details})})]}),l.payment_proof&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:a("admin.payout.viewDetails.paymentProof")}),e.jsxs("div",{className:"border rounded-md p-4",children:[e.jsx("img",{src:`/storage/${l.payment_proof.screenshot_path}`,alt:a("admin.payout.viewDetails.paymentProofAlt"),className:"max-w-full max-h-64 object-contain"}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a("admin.payout.viewDetails.referenceNumber")}),e.jsx("p",{className:"font-medium",children:l.payment_proof.reference_number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a("admin.payout.viewDetails.paymentDate")}),e.jsx("p",{className:"font-medium",children:G(l.payment_proof.payment_date)})]})]})]})]}),l.admin_notes&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:a("admin.payout.viewDetails.adminNotes")}),e.jsx("div",{className:"bg-muted p-4 rounded-md",children:e.jsx("p",{children:l.admin_notes})})]})]}),e.jsx(O,{children:e.jsx(n,{variant:"outline",onClick:()=>$(!1),children:a("admin.payout.viewDetails.close")})})]})}),e.jsx(I,{open:We,onOpenChange:P,children:e.jsxs(T,{className:"max-w-md",children:[e.jsxs(A,{children:[e.jsx(F,{children:a("admin.payout.approve.title")}),e.jsx(E,{children:a("admin.payout.approve.description")})]}),l&&e.jsxs("form",{onSubmit:ta,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a("admin.payout.approve.user")}),e.jsx("p",{className:"font-medium",children:(de=l.user)==null?void 0:de.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a("admin.payout.approve.amount")}),e.jsx("p",{className:"font-medium text-green-600",children:g(l.amount)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:a("admin.payout.approve.referenceNumber")}),e.jsx(f,{value:p.reference_number,onChange:s=>S({...p,reference_number:s.target.value}),placeholder:a("admin.payout.approve.referenceNumberPlaceholder"),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:a("admin.payout.approve.paymentProof")}),e.jsx(f,{type:"file",accept:"image/*",onChange:s=>S({...p,payment_screenshot:s.target.files[0]}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:a("admin.payout.approve.notes")}),e.jsx(f,{value:p.notes,onChange:s=>S({...p,notes:s.target.value}),placeholder:a("admin.payout.approve.notesPlaceholder")})]}),e.jsxs(O,{children:[e.jsx(n,{variant:"outline",type:"button",onClick:()=>P(!1),children:a("admin.payout.approve.cancel")}),e.jsx(n,{type:"submit",children:a("admin.payout.approve.approvePayout")})]})]})]})}),e.jsx(I,{open:qe,onOpenChange:D,children:e.jsxs(T,{className:"max-w-md",children:[e.jsxs(A,{children:[e.jsx(F,{children:a("admin.payout.reject.title")}),e.jsx(E,{children:a("admin.payout.reject.description")})]}),l&&e.jsxs("form",{onSubmit:na,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a("admin.payout.reject.user")}),e.jsx("p",{className:"font-medium",children:(me=l.user)==null?void 0:me.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a("admin.payout.reject.amount")}),e.jsx("p",{className:"font-medium text-green-600",children:g(l.amount)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:a("admin.payout.reject.rejectionReason")}),e.jsx(f,{value:U.rejection_reason,onChange:s=>V({...U,rejection_reason:s.target.value}),placeholder:a("admin.payout.reject.rejectionReasonPlaceholder"),required:!0})]}),e.jsxs(O,{children:[e.jsx(n,{variant:"outline",type:"button",onClick:()=>D(!1),children:a("admin.payout.reject.cancel")}),e.jsx(n,{type:"submit",variant:"destructive",children:a("admin.payout.reject.rejectPayout")})]})]})]})}),e.jsx(I,{open:He,onOpenChange:z,children:e.jsxs(T,{className:"max-w-md",children:[e.jsxs(A,{children:[e.jsx(F,{children:a("admin.wallet.manualOperation.title")}),e.jsx(E,{children:a("admin.wallet.manualOperation.description")})]}),C&&e.jsxs("form",{onSubmit:sa,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a("admin.wallet.manualOperation.user")}),e.jsx("p",{className:"font-medium",children:(ue=C.user)==null?void 0:ue.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a("admin.wallet.manualOperation.currentBalance")}),e.jsx("p",{className:"font-medium text-green-600",children:g(C.balance)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{type:"button",variant:d.type==="credit"?"default":"outline",onClick:()=>y({...d,type:"credit"}),className:"flex-1",children:[e.jsx(ja,{className:"ms-2 h-4 w-4"}),a("admin.wallet.manualOperation.credit")]}),e.jsxs(n,{type:"button",variant:d.type==="debit"?"default":"outline",onClick:()=>y({...d,type:"debit"}),className:"flex-1",children:[e.jsx(ua,{className:"ms-2 h-4 w-4"}),a("admin.wallet.manualOperation.debit")]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:a("admin.wallet.manualOperation.amount")}),e.jsx(f,{type:"number",min:"0",step:"0.01",value:d.amount,onChange:s=>y({...d,amount:s.target.value}),placeholder:a("admin.wallet.manualOperation.amountPlaceholder"),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:a("admin.wallet.manualOperation.reason")}),e.jsx(f,{value:d.reason,onChange:s=>y({...d,reason:s.target.value}),placeholder:a("admin.wallet.manualOperation.reasonPlaceholder"),required:!0})]}),e.jsxs(O,{children:[e.jsx(n,{variant:"outline",type:"button",onClick:()=>z(!1),children:a("admin.wallet.manualOperation.cancel")}),e.jsx(n,{type:"submit",children:d.type==="credit"?a("admin.wallet.manualOperation.creditWallet"):a("admin.wallet.manualOperation.debitWallet")})]})]})]})})]})}export{fs as default};
