import{c as H,u as z,a as B,r as R,j as e,C as x,Q,t as G}from"./app-tu_nxz4H.js";import{C as c,a as n,b as l,d as X,c as i}from"./card-Bw0vLuEn.js";import{B as u}from"./badge-YbPNhPcJ.js";import{d as J}from"./button-BZgJU16f.js";import{F as L}from"./FreelancerDashboardLayout-Drmnvfzb.js";import{S as q}from"./separator-C-d7tlPr.js";import{A as F,a as T,b as M}from"./avatar-Br7MV_1H.js";import{F as P}from"./file-text-CsIm62FH.js";import{L as $}from"./loader-circle-CylYfSfh.js";import{C as p}from"./check-check-C_x4iHLW.js";import{A as K}from"./arrow-left-CIvlpSYW.js";import{C as W}from"./calendar-a2parlcl.js";import{U as E}from"./user-BTZAhoSQ.js";import{C as m}from"./clock-BbigxC4A.js";import{C as U}from"./circle-x-CweIOvyj.js";import{C as Y}from"./circle-alert-DXhyxmSK.js";import"./AppHeader-B8kkmwh_.js";import"./dropdown-menu-XeOzj3G4.js";import"./index-CPefrJt7.js";import"./index-CZg7sQom.js";import"./index-DEJTFC4Z.js";import"./index-CUWVWZD9.js";import"./index-Du654uGJ.js";import"./index-Bzb9Ony0.js";import"./chevron-right-DdsKMi0-.js";import"./LanguageDropdown-Czorzu0A.js";import"./chevron-down-DgvoPxKv.js";import"./log-out-C_P4AYsR.js";import"./input--XoPGThR.js";import"./sheet-2K7jSFhM.js";import"./skeleton-CNspO5WR.js";import"./index-C4bozPq7.js";import"./package-C35wEl39.js";import"./message-square-BLldBHH5.js";import"./wallet-df-tNZSa.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],ee=H("circle-dollar-sign",Z);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ae=H("clipboard-list",se);function Ie({order:s,auth:re}){var w,y,S,b,v,O,C,_,k,D,A;const{t:a}=z(),{isRTL:o}=B(),[te,ce]=R.useState(!1),d=r=>new Intl.NumberFormat(o?"ar-SD":"en-US",{style:"currency",currency:"SDG",minimumFractionDigits:0}).format(r),h=r=>r?new Date(r).toLocaleDateString(o?"ar-SD":"en-US",{year:"numeric",month:"short",day:"numeric"}):"",f=r=>r?new Date(r).toLocaleString(o?"ar-SD":"en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",I=r=>({pending:{color:"bg-yellow-100 text-yellow-800",icon:e.jsx(m,{className:"h-4 w-4"})},payment_verified:{color:"bg-blue-100 text-blue-800",icon:e.jsx(x,{className:"h-4 w-4"})},in_progress:{color:"bg-primary/10 text-primary",icon:e.jsx($,{className:"h-4 w-4 animate-spin"})},review:{color:"bg-purple-100 text-purple-800",icon:e.jsx(Y,{className:"h-4 w-4"})},completed:{color:"bg-green-100 text-green-800",icon:e.jsx(p,{className:"h-4 w-4"})},cancelled:{color:"bg-red-100 text-red-800",icon:e.jsx(U,{className:"h-4 w-4"})}})[r]||{color:"bg-gray-100 text-gray-800",icon:e.jsx(m,{className:"h-4 w-4"})},V=r=>({pending:{color:"bg-yellow-100 text-yellow-800",icon:e.jsx(m,{className:"h-4 w-4"})},paid:{color:"bg-green-100 text-green-800",icon:e.jsx(p,{className:"h-4 w-4"})},failed:{color:"bg-red-100 text-red-800",icon:e.jsx(U,{className:"h-4 w-4"})},refunded:{color:"bg-gray-100 text-gray-800",icon:e.jsx(ee,{className:"h-4 w-4"})}})[r]||{color:"bg-gray-100 text-gray-800",icon:e.jsx(m,{className:"h-4 w-4"})},j=I((s==null?void 0:s.status)||"pending"),g=V((s==null?void 0:s.payment_status)||"pending"),N=[{date:s==null?void 0:s.created_at,title:a("freelancerOrderShow.timeline.orderPlaced"),icon:e.jsx(P,{className:"h-4 w-4"}),active:!0},{date:s==null?void 0:s.payment_verified_at,title:a("freelancerOrderShow.timeline.paymentVerified"),icon:e.jsx(x,{className:"h-4 w-4"}),active:(s==null?void 0:s.status)!=="pending"},{date:s==null?void 0:s.started_at,title:a("freelancerOrderShow.timeline.workStarted"),icon:e.jsx($,{className:"h-4 w-4"}),active:["in_progress","review","completed"].includes(s==null?void 0:s.status)},{date:s==null?void 0:s.completed_at,title:a("freelancerOrderShow.timeline.orderCompleted"),icon:e.jsx(p,{className:"h-4 w-4"}),active:(s==null?void 0:s.status)==="completed"}].filter(r=>r.date);return s?e.jsxs(L,{breadcrumbs:[{label:a("freelancerOrderShow.backToOrders"),href:"/freelancer/orders"},{label:a("freelancerOrderShow.orderNumber",{number:s.order_number})}],children:[e.jsx(Q,{title:a("freelancerOrderShow.orderNumber",{number:s.order_number})}),e.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(G,{href:"/freelancer/orders",className:J({variant:"outline",size:"icon"}),children:e.jsx(K,{className:"h-4 w-4 rtl:rotate-180"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:a("freelancerOrderShow.orderNumber",{number:s.order_number})}),e.jsxs("p",{className:"text-muted-foreground",children:[h(s.created_at)," â€¢ ",((w=s.service)==null?void 0:w.title)||a("freelancerOrderShow.noService")]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs(u,{className:`${j.color} gap-1`,children:[j.icon,a(`freelancerOrderShow.status.${s.status}`)]}),e.jsxs(u,{className:`${g.color} gap-1`,children:[g.icon,a(`freelancerOrderShow.paymentStatus.${s.payment_status}`)]}),s.due_date&&e.jsxs(u,{variant:"outline",className:"gap-1",children:[e.jsx(W,{className:"h-4 w-4"}),a("ordersConfirmation.dueDate"),": ",h(s.due_date)]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(c,{children:[e.jsxs(n,{children:[e.jsx(l,{children:a("freelancerOrderShow.orderSummary")}),e.jsxs(X,{children:[a("freelancerOrderShow.orderPlacedOn")," ",f(s.created_at)]})]}),e.jsxs(i,{className:"grid gap-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a("freelancerOrderShow.summary.client")}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsxs(F,{className:"h-8 w-8",children:[e.jsx(T,{src:(y=s.client)==null?void 0:y.avatar_url,onError:r=>{r.currentTarget.style.display="none"}}),e.jsx(M,{children:((b=(S=s.client)==null?void 0:S.name)==null?void 0:b.charAt(0))||e.jsx(E,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"font-medium",children:((v=s.client)==null?void 0:v.name)||a("freelancerOrderShow.noClient")})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:a("freelancerOrderShow.summary.service")}),e.jsx("p",{className:"font-medium mt-1",children:((O=s.service)==null?void 0:O.title)||a("freelancerOrderShow.noService")})]})]}),e.jsx(q,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:a("freelancerOrderShow.summary.package")}),e.jsx("span",{className:"font-medium",children:s.package_name||a("freelancerOrderShow.noPackage")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:a("freelancerOrderShow.summary.price")}),e.jsx("span",{className:"font-medium",children:d(s.package_price||0)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:a("freelancerOrderShow.summary.serviceFee")}),e.jsx("span",{className:"font-medium",children:d(s.service_fee||0)})]}),e.jsx(q,{}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:a("freelancerOrderShow.summary.total")}),e.jsx("span",{className:"font-bold text-lg",children:d(s.total_amount||0)})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(c,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-5 w-5"}),a("freelancerOrderShow.summary.requirements")]})}),e.jsx(i,{children:Array.isArray(s.requirements)&&s.requirements.length>0?e.jsx("ul",{className:"space-y-2",children:s.requirements.map((r,t)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(x,{className:"h-4 w-4 mt-0.5 text-green-500 flex-shrink-0"}),e.jsx("span",{children:r})]},t))}):s.requirements?e.jsx("p",{children:s.requirements}):e.jsx("p",{className:"text-muted-foreground",children:a("freelancerOrderShow.summary.noRequirements")})})]}),e.jsxs(c,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5"}),a("freelancerOrderShow.summary.additionalNotes")]})}),e.jsx(i,{children:s.additional_notes?e.jsx("p",{className:"whitespace-pre-line",children:s.additional_notes}):e.jsx("p",{className:"text-muted-foreground",children:a("freelancerOrderShow.summary.noNotes")})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(c,{children:[e.jsx(n,{children:e.jsx(l,{children:a("freelancerOrderShow.orderHistory")})}),e.jsx(i,{className:"space-y-4",children:N.length>0?N.map((r,t)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`flex items-center justify-center h-8 w-8 rounded-full ${r.active?"bg-primary text-primary-foreground":"bg-muted"}`,children:r.icon}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:`text-sm ${r.active?"font-medium":"text-muted-foreground"}`,children:r.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:f(r.date)})]})})]},t)):e.jsx("p",{className:"text-muted-foreground text-sm",children:a("freelancerOrderShow.noEvents")})})]}),e.jsxs(c,{children:[e.jsx(n,{children:e.jsx(l,{children:a("freelancerOrderShow.clientInfo")})}),e.jsx(i,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(F,{className:"h-10 w-10",children:[e.jsx(T,{src:(C=s.client)==null?void 0:C.avatar_url,onError:r=>{r.currentTarget.style.display="none"}}),e.jsx(M,{children:((k=(_=s.client)==null?void 0:_.name)==null?void 0:k.charAt(0))||e.jsx(E,{className:"h-5 w-5"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:((D=s.client)==null?void 0:D.name)||a("freelancerOrderShow.noClient")}),((A=s.client)==null?void 0:A.created_at)&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a("freelancerOrderShow.memberSince")," ",h(s.client.created_at)]})]})]})})]})]})]})]}):e.jsx(L,{breadcrumbs:[{label:a("freelancerOrderShow.backToOrders"),href:"/freelancer/orders"}],children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-muted-foreground",children:a("freelancerOrderShow.orderNotFound")})})})}export{Ie as default};
